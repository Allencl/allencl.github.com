function getStyle(e,t){return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]}function header(e){var t=document.getElementById(e),n=t.getElementsByTagName("img");t.onmouseover=function(){document.onmousemove=function(e){for(var o=e||event,s=0;s<n.length;s++){var l=n[s].offsetLeft-o.clientX+n[s].offsetWidth/2,a=n[s].offsetTop+t.offsetTop-o.clientY+n[s].offsetHeight/2,i=Math.sqrt(l*l+a*a),r=i,f=1-r/300;.5>f&&(f=.5),n[s].style.width=90*f+"px"}}}}function devise1(e){function t(e){s.style.left=o.offsetWidth/2-(e+.5)*l[0].offsetWidth+"px"}function n(){for(var e=0;e<a.length;e++){var t=Math.abs(o.offsetWidth/2-(s.offsetLeft+l[e].offsetLeft+l[e].offsetWidth/2)),n=1-t/800;.5>n&&(n=.5),a[e].style.width=1e3*n+"px",a[e].style.height=380*n+"px",a[e].style.marginLeft=-(a[e].offsetWidth-l[e].offsetWidth)/2+"px",a[e].style.marginTop=-(a[e].offsetHeight-l[e].offsetHeight)/2+"px",a[e].style.zIndex=parseInt(1e4*n),a[e].style.opacity=n}}var o=document.getElementById(e),s=o.children[0],l=s.children,a=s.getElementsByTagName("img");s.style.width=l[0].offsetWidth*l.length+"px",s.onmousedown=function(e){var t=e||event,a=t.clientX-s.offsetLeft;return document.onmousemove=function(e){var t=e||event,i=t.clientX-a;i>o.offsetWidth/2-.5*l[0].offsetWidth&&(i=o.offsetWidth/2-.5*l[0].offsetWidth),i<o.offsetWidth/2-(l.length-1+.5)*l[0].offsetWidth&&(i=o.offsetWidth/2-(l.length-1+.5)*l[0].offsetWidth),s.style.left=i+"px",n()},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,s.releaseCapture&&s.releaseCapture()},s.setCapture&&s.setCapture(),!1},t(3),n(),window.onresize=n}function devise2(e){function t(e){e.onmousedown=function(t){var o=t||event,s=o.clientX-e.offsetLeft,l=o.clientY-e.offsetTop;return e.style.zIndex=i++,clearInterval(e.timer),document.onmousemove=function(t){var o=t||event;e.style.left=o.clientX-s+"px",e.style.top=o.clientY-l+"px";var i=n(e);if(i&&i!=e){for(var f=e.index,c=i.index,u=0;u<a.length;u++)a[u].index>f&&a[u].index<=c?(a[u].index--,move(a[u],r[a[u].index])):a[u].index>=c&&a[u].index<f&&(a[u].index++,move(a[u],r[a[u].index]));e.index=c}},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,move(e,r[e.index]),e.releaseCapture&&e.releaseCapture()},e.setCapture&&e.setCapture(),!1}}function n(e){for(var t=99999999,n=-1,l=0;l<a.length;l++)if(s(e,a[l])){var i=o(e,a[l]);t>i&&(t=i,n=l)}return-1==n?null:a[n]}function o(e,t){var n=r[t.index].left-e.offsetLeft,o=r[t.index].top-e.offsetTop;return Math.sqrt(n*n+o*o)}function s(e,t){var n=e.offsetLeft,o=e.offsetTop,s=e.offsetLeft+e.offsetWidth,l=e.offsetTop+e.offsetHeight,a=r[t.index].left,i=r[t.index].top,f=r[t.index].left+t.offsetWidth,c=r[t.index].top+t.offsetHeight;return n>f||o>c||a>s||i>l?!1:!0}for(var l=document.getElementById(e),a=l.children,i=2,r=[],f=0;f<a.length;f++)r.push({left:a[f].offsetLeft,top:a[f].offsetTop}),a[f].style.left=r[f].left+"px",a[f].style.top=r[f].top+"px";for(var f=0;f<a.length;f++)a[f].style.position="absolute",a[f].style.margin=0,a[f].index=f;for(var f=0;f<a.length;f++)t(a[f])}function devise3(e){for(var t=document.getElementById(e),n=t.children,o=0;o<n.length;o++)n[o].style.display="block";for(var o=0;o<n.length;o++)n[o].style.left=20*o+"px",n[o].index=o,n[o].onmouseover=function(){for(var e=1;e<n.length;e++)e<=this.index?move(n[e],{left:20*e},{time:1e3}):move(n[e],{left:840+20*(e-1)},{time:1e3})}}function devise4(e){function t(){var e=s.length-1,t=setInterval(function(){!function(t){move(s[e],{left:o.offsetWidth/2,top:o.offsetHeight,opacity:0,width:0,height:0},{fn:function(){if(0==t){for(var e=0;e<s.length;e++)s[e].src="img4/"+(1+parseInt(12*Math.random()))+".jpg";n()}}})}(e),e--,-1==e&&clearInterval(t)},100)}function n(){var e=s.length-1,t=setInterval(function(){!function(t){move(s[e],i[e],{fn:function(){0==t&&(a=!0)}})}(e),e--,-1==e&&clearInterval(t)},100)}for(var o=document.getElementById(e),s=o.getElementsByTagName("img"),l=o.getElementsByTagName("input")[0],a=!0,i=[],r=0;r<s.length;r++)i.push({left:s[r].offsetLeft,top:s[r].offsetTop,width:s[r].offsetWidth,height:s[r].offsetHeight,opacity:1}),s[r].style.left=i[r].left+"px",s[r].style.top=i[r].top+"px";for(var r=0;r<s.length;r++)s[r].style.position="absolute",s[r].style.margin=0,s[r].src="img4/"+(1+parseInt(12*Math.random()))+".jpg";l.onclick=function(){a&&(a=!1,t())}}function devise5(e){function t(e,t){var n=t.clientX-(e.offsetLeft+e.offsetWidth/2),o=e.offsetTop+e.offsetHeight/2-t.clientY;return Math.round((180*Math.atan2(o,n)/Math.PI+180)/90)%4}function n(e){e.onmouseover=function(n){var o=n||event,s=o.fromElement||o.relatedTarget;if(!e.contains(s)){var l=this.children[0],a=t(this,o);switch(a){case 0:l.style.left="-200px",l.style.top="0";break;case 1:l.style.left="0",l.style.top="200px";break;case 2:l.style.left="200px",l.style.top="0";break;case 3:l.style.left="0",l.style.top="-200px"}move(l,{left:0,top:0})}},e.onmouseout=function(n){var o=n||event,s=o.toElement||o.relatedTarget;if(!e.contains(s)){var l=this.children[0],a=t(this,o);switch(a){case 0:move(l,{left:-200,top:0});break;case 1:move(l,{left:0,top:200});break;case 2:move(l,{left:200,top:0});break;case 3:move(l,{left:0,top:-200})}}}}for(var o=document.getElementById(e),s=o.children,l=0;l<s.length;l++)n(s[l])}function $(e){document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&e&&e()})}function openTo(e){var t=document.getElementById(e),n=document.getElementById("cvs"),o=document.getElementById("bg"),s=t.getElementsByTagName("span")[0],l=t.getElementsByTagName("p")[0],a=t.getElementsByClassName("menu"),i=30,r=!0,f=!0;s.onclick=null;s.onclick=function(){if(r)for(var e=0;e<a.length;e++)a[e].style.transform="perspective(800px) rotateZ("+(e+1)*i+"deg)",a[e].style.opacity="1",l.innerHTML="HTML闭合",o.style.display="block",o.style.background=getComputedStyle(document.body).backgroundColor,f&&(n.style.display="block",canvas("cvs"),f=!1),r=!1;else for(var e=0;e<a.length;e++)a[e].style.transform="perspective(800px) rotateZ(0deg)",a[e].style.opacity="0",l.innerHTML="HTML展开",o.style.display="none",r=!0};var c=0,u=0;s.onmousedown=function(e){var n=e.clientX-c,o=e.clientY-u;return document.onmousemove=function(e){c=e.clientX-n,u=e.clientY-o,r=!1,t.style.transform="translate("+c+"px,"+u+"px)"},document.onmouseup=function(){return document.onmousemove=document.onmouseup=null,!1},!1}}function canvas(e){function t(e){return e*Math.PI/180}var n=document.getElementById(e),o=n.getContext("2d"),s=new Image,l=0,a=50;s.src="icon/fish.png";var i=300,r=160,f=70,c=0,u=null;o.lineWidth="15",n.style.display="block",u=setInterval(function(){o.clearRect(0,0,n.width,n.height),o.beginPath(),o.arc(i,r,f,t(0),t(c),!1),o.stroke();var e=parseInt(c/360*100)+"%";o.strokeStyle="rgb(0,"+parseInt(255-255*(c/360))+",0)";var d=30;o.font=d+"px kaiti";var m=o.measureText(e).width;o.fillText(e,i-m/2,r+d/2),c+=10,l++,l%=4,a+=12,o.drawImage(s,0,37*l,55,37,a,260,55,37),c>360&&clearInterval(u),c>360&&"100%"==e&&(n.style.opacity="0",n.style.display="none")},160)}function html1(e){function t(){for(var e=0;a>e;e++)l[e].className=r[e];var t=document.querySelector(".cur");t.addEventListener("transitionend",function(){i=!0},!1)}for(var n=document.getElementById(e),o=n.getElementsByClassName("prev")[0],s=n.getElementsByClassName("next")[0],l=n.getElementsByTagName("li"),a=l.length,i=!0,r=[],f=0;a>f;f++)r.push(l[f].className);o.onclick=function(){i&&(i=!1,r.push(r.shift()),t())},s.onclick=function(){i&&(i=!1,r.unshift(r.pop()),t())}}function html2(e){var t=document.getElementById(e),n=t.children,o=n.length,s=0,l=0,a=0,i=0,r=o-1,f=setInterval(function(){n[r].style.transform="rotateY("+360/o*r+"deg)  translateZ(300px)",r--,0>r&&clearInterval(f)},300),c=(bRight=bTop=bBottom=!1,150),u=0;t.onmousedown=function(e){var n=e.clientX-u,o=e.clientY-c;return document.onmousemove=function(e){u=e.clientX-n,c=e.clientY-o,c>400?c=400:-400>c&&(c=-400),t.style.transform="perspective(1200px)  rotateX("+-c/10+"deg)  rotateY("+u/10+"deg)",s=c-a,l=u-i,a=c,i=u},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,clearInterval(f),f=setInterval(function(){c+=s,u+=l,s*=.8,l*=.8,c>600?c=600:-600>c&&(c=-600),Math.abs(s)<1&&(s=0),Math.abs(l)<1&&(l=0),0==s&&0==l&&clearInterval(f),t.style.transform="perspective(1200px)  rotateX("+-c/10+"deg)  rotateY("+u/10+"deg)"},30)},!1}}function getStyle(e,t){return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]}function move(e,t,n){n=n||{},n.time=n.time||700,n.type=n.type||"ease-out";var o={},s={};for(var l in t)o[l]=parseFloat(getStyle(e,l)),s[l]=t[l]-o[l];var a=Math.round(n.time/30),i=0;clearInterval(e.timer),e.timer=setInterval(function(){i++;for(var l in t){switch(n.type){case"linear":var r=o[l]+s[l]*i/a;break;case"ease-in":var f=i/a,r=o[l]+s[l]*f*f*f;break;case"ease-out":var f=1-i/a,r=o[l]+s[l]*(1-f*f*f)}"opacity"==l?(e.style.opacity=r,e.style.filter="alpha(opacity:"+100*r+")"):e.style[l]=r+"px"}i==a&&(clearInterval(e.timer),n.fn&&n.fn())},30)}$(function(){var e=["#b2a095","#b2a095","#b59968","#93bf96","#f6e2ca"];header("header","cuntent"),devise1("devise1");for(var t=document.getElementById("header"),n=t.getElementsByTagName("img"),o=document.getElementById("cuntent"),s=o.children,l=document.getElementById("select"),a=l.getElementsByClassName("menu"),i=document.getElementById("bg"),r=i.getElementsByTagName("ul"),f=0;f<n.length;f++)!function(t){n[f].onclick=function(){for(var n=0;n<s.length;n++)s[n].style.display="none";s[t].style.display="block",document.body.style.background=e[t],i.style.background=e[t];var o=s[t].id;switch(o){case"devise1":devise1("devise1");break;case"devise2":devise2("devise2");break;case"devise3":devise3("devise3");break;case"devise4":devise4("devise4");break;case"devise5":devise5("devise5")}}}(f);openTo("select");for(var f=0;f<a.length;f++)!function(e){a[f].onclick=function(){for(var t=0;t<r.length;t++)r[t].style.display="none";r[e].style.display="block";var n=r[e].id;switch(n){case"html1":html1("html1");break;case"html2":html2("html2")}}}(f)});