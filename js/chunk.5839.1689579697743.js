"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[5839],{14614:function(t,e,n){n.d(e,{m:function(){return u}});var r=n(50124),i=n(48534),a=n(37184),u=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/equipmentRepair/proConfirmWbForApp",method:"post",payload:e.payload});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},88575:function(t,e,n){n.d(e,{Z:function(){return F}});var r=n(73396),i=n(87139),a={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},u=(0,r._)("span",null,"第",-1),o={style:{"padding-left":"1px","padding-right":"1px"}},c=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),s=(0,r._)("span",null,"共",-1),l={style:{"padding-left":"1px","padding-right":"1px"}},p=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),f=(0,r._)("span",null,"总",-1),m={style:{"padding-left":"1px","padding-right":"1px"}},d=(0,r._)("span",null,"条",-1),h={style:{position:"relative",top:"1px","margin-left":"0px"}},g={key:2,class:"text-center",style:{"padding-top":"12px"}};function w(t,e,n,w,k,x){var _=(0,r.up)("v-icon"),v=(0,r.up)("v-btn"),y=(0,r.up)("v-card");return(0,r.wg)(),(0,r.iD)("span",null,[t.paging&&n.pagingShow?((0,r.wg)(),(0,r.j4)(y,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(v,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:x.previousHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-left")]})),_:1})]})),_:1},8,["onClick"]),(0,r.Wm)(v,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:x.nextHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-right")]})),_:1})]})),_:1},8,["onClick"]),(0,r._)("span",a,[u,(0,r._)("span",o,(0,i.zw)(t.current),1),c,s,(0,r._)("span",l,(0,i.zw)(t.page),1),p,f,(0,r._)("span",m,(0,i.zw)(t.totalNum),1),d]),(0,r._)("span",h,[n.showSearchBtn?((0,r.wg)(),(0,r.j4)(v,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:x.searchClick,variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{size:"24",icon:"mdi-magnify"}),(0,r.Uk)(" 查询 ")]})),_:1},8,["onClick"])):(0,r.kq)("",!0),(0,r.Wm)(v,{onClick:x.refreshClick,style:(0,i.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 刷新 ")]})),_:1},8,["onClick"])])]})),_:1})):(0,r.kq)("",!0),t.items.length?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(t.items,(function(e,n){return(0,r.WI)(t.$slots,"tableBody",{key:n,items:e,_index:n})})),128)):((0,r.wg)(),(0,r.iD)("p",g,[(0,r.Wm)(_,{icon:"mdi-emoticon-sad-outline"}),(0,r.Uk)(" 无数据！ ")]))])}var k=n(50124),x=n(95082),_=n(48534),v=(n(21249),n(37184)),y=n(20868),W={components:{},emits:["searchClick","refresh"],data:function(){return{totalNum:0,current:1,page:0,paging:!0,items:[]}},created:function(){var t=this.auto,e=this.url;t&&e&&this.initFunc()},methods:{previousHandle:function(){var t=this,e=this.current;1!=e?(this.current=e-1,this.$nextTick((function(){t.initFunc(t.current)}))):(0,y.LJ)("第一页！")},nextHandle:function(){var t=this,e=this.current,n=this.page;e>=n?(0,y.LJ)("最后一页！"):(this.current=e+1,this.$nextTick((function(){t.initFunc(t.current)})))},initFunc:function(){var t=arguments,e=this;return(0,_.Z)((0,k.Z)().mark((function n(){var r,i,a,u,o,c,s,l,p,f,m,d,h,g,w,_;return(0,k.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:1,i=t.length>1?t[1]:void 0,a=e.url,u=e.params,o=void 0===u?{}:u,c=e.children,s=e.method,l=e.formatData,!c){n.next=7;break}return e.items=c,e.paging=!1,n.abrupt("return");case 7:return p=(0,x.Z)((0,x.Z)({pageNum:r,pageSize:10},o),i),n.next=10,(0,v.i)({method:s,url:a,payload:"post"==s?p:{},url_params:"get"==s?p:{}});case 10:f=n.sent,m=f.code,d=f.total,h=void 0===d?0:d,g=f.msg,void 0===g?"":g,w=f.data,_=f.rows,200==m&&(e.totalNum=h,e.current=r,e.page=Math.ceil(h/p.pageSize),e.items=l?l(w||_||[]):w||_||[]);case 19:case"end":return n.stop()}}),n)})))()},refreshClick:function(){var t=this.refreshFunc;!t&&this.initFunc(1),this.$emit("refresh")},searchClick:function(){this.$emit("searchClick")},resultData:function(){return this.items||[]},selectAll:function(){this.items=this.items.map((function(t){return Object.assign(t,{_checked:!0})}))}},props:{method:{type:String,default:function(){return"get"}},refreshFunc:{type:Boolean,default:function(){return!1}},showSearchBtn:{type:Boolean,default:function(){return!1}},auto:{type:Boolean,default:function(){return!0}},pagingShow:{type:Boolean,default:function(){return!0}},children:{type:Array,default:function(){}},url:{type:String,default:function(){return""}},params:{type:Object,default:function(){}},formatData:{}}},C=n(40089);const b=(0,C.Z)(W,[["render",w]]);var F=b},25839:function(t,e,n){n.r(e),n.d(e,{default:function(){return U}});var r=n(73396),i=n(87139),a={class:"v-window-item-table"},u=(0,r._)("p",{class:"text-truncate font-weight-medium text"},"维修设备",-1),o={class:"font-weight-medium text-left text-teal-lighten-1",color:"primary"},c={class:"text-truncate font-weight-light"},s=(0,r._)("span",{class:"font-weight-medium text"},"所属工厂: ",-1),l={class:"text-truncate font-weight-light"},p=(0,r._)("span",{class:"font-weight-medium text"},"点检类型: ",-1),f={class:"text-truncate font-weight-light"},m=(0,r._)("span",{class:"font-weight-medium text"},"点检人: ",-1),d={class:"text-truncate font-weight-light font-weight-medium",style:{color:"#00E5FF"}},h={class:"text-truncate font-weight-light"},g=(0,r._)("span",{class:"font-weight-medium text"},"点检时间: ",-1),w=(0,r._)("p",{style:{"font-size":"18px",padding:"8px 0px 8px 6px"}},"是否报修",-1),k=(0,r._)("div",{style:{height:"12px"}},null,-1),x=(0,r._)("div",{style:{height:"18px"}},null,-1);function _(t,e,n,_,v,y){var W=(0,r.up)("AppBarPage"),C=(0,r.up)("v-badge"),b=(0,r.up)("v-col"),F=(0,r.up)("v-row"),Z=(0,r.up)("v-btn"),z=(0,r.up)("v-card"),T=(0,r.up)("TableComponents"),U=(0,r.up)("van-popup");return(0,r.wg)(),(0,r.iD)("span",null,[(0,r.Wm)(W),(0,r._)("div",a,[(0,r.Wm)(T,{ref:"table1",url:"/iiot/checkTask/list",params:{taskState:"W"},method:"post"},{tableBody:(0,r.w5)((function(t){return[(0,r.Wm)(z,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(F,{"no-gutters":"",class:"table-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"1"},{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{content:t._index+1,color:"primary",inline:""},null,8,["content"])]})),_:2},1024),(0,r.Wm)(b,{cols:"5"},{default:(0,r.w5)((function(){return[u]})),_:1}),(0,r.Wm)(b,{cols:"1",class:"text-right"})]})),_:2},1024),(0,r.Wm)(F,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r._)("p",o,(0,i.zw)(t.items.equipmentName),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(F,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r._)("p",c,[s,(0,r.Uk)(" "+(0,i.zw)(t.items.nodeLevelName),1)])]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(F,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r._)("p",l,[p,(0,r.Uk)(" "+(0,i.zw)(y.FormatDictionary("CHECK_TYPE",t.items.taskType)["lable"]),1)])]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(F,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r._)("p",f,[m,(0,r.Uk)(" "+(0,i.zw)(t.items.checkBy),1)])]})),_:2},1024),(0,r.Wm)(b,{cols:"6",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r._)("p",d,"状态: "+(0,i.zw)(y.FormatDictionary("CHECK_STATE",t.items.taskState)["lable"]),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(F,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r._)("p",h,[g,(0,r.Uk)(" "+(0,i.zw)(t.items.checkStartTime),1)])]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(F,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"5",class:"text-left"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{onClick:function(e){return y.detailClick(t)},color:"primary mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,r.w5)((function(){return[(0,r.Uk)("查看点检信息")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,r.Wm)(b,{cols:"1",class:"text-left"}),(0,r.Wm)(b,{cols:"3",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{onClick:function(e){return y.statusClick(t.items,!0)},color:"primary mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,r.w5)((function(){return[(0,r.Uk)("正常")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,r.Wm)(b,{cols:"3",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{onClick:function(e){return y.showDialogFunc(t.items)},color:"error mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,r.w5)((function(){return[(0,r.Uk)("异常")]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:1},512)]),(0,r.Wm)(U,{show:t.showPicker,"onUpdate:show":e[2]||(e[2]=function(e){return t.showPicker=e}),style:{padding:"12px 12px 4px 12px",width:"80%"},round:"",closeable:""},{default:(0,r.w5)((function(){return[(0,r._)("div",null,[w,k,(0,r.Wm)(F,{"no-gutters":""},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{cols:"5",class:"text-center"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{onClick:e[0]||(e[0]=function(t){return y.errorFunc(!0)}),color:"primary",block:""},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 是 ")]})),_:1})]})),_:1}),(0,r.Wm)(b,{cols:"2"}),(0,r.Wm)(b,{cols:"5",class:"text-center"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{onClick:e[1]||(e[1]=function(t){return y.errorFunc(!1)}),color:"warning",block:""},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 否 ")]})),_:1})]})),_:1})]})),_:1}),x])]})),_:1},8,["show"])])}var v=n(50124),y=n(48534),W=(n(57327),n(41539),n(57658),n(76496)),C=n(88575),b=n(37184),F=(n(14614),n(20868)),Z={components:{AppBarPage:W.Z,TableComponents:C.Z},data:function(){return{bufferRow:{},showPicker:!1}},methods:{FormatDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),r=n[t]||[],i=r.filter((function(t){return e==t.value}))[0]||{};return i},detailClick:function(t){var e=this;return(0,y.Z)((0,v.Z)().mark((function n(){var r;return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.items,e.$router.push({path:"/examineConfirm/detail",query:{ttCheckTaskId:r.ttCheckTaskId}});case 2:case"end":return n.stop()}}),n)})))()},statusClick:function(t,e){var n=this;return(0,y.Z)((0,v.Z)().mark((function r(){var i,a,u,o;return(0,v.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i={ttCheckTaskId:t.ttCheckTaskId,confirmResult:e?"O":"N"},r.next=3,(0,b.i)({url:"/iiot/checkTaskRecord/commitCheckTaskRecord",method:"post",payload:i});case 3:a=r.sent,u=a.code,o=a.data,void 0===o?{}:o,200==u&&((0,F.XA)("提交成功！"),n.showPicker=!1,n.$nextTick((function(){n.$refs.table1.initFunc()})));case 8:case"end":return r.stop()}}),r)})))()},showDialogFunc:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.bufferRow=t,this.showPicker=!0},errorFunc:function(t){var e=this.bufferRow;t?this.$router.push({path:"/equipment/repairs",query:{tmBasEquipmentId:e.tmBasEquipmentId,equipmentNo:e.equipmentNo,equipmentName:e.equipmentName}}):this.statusClick(e,!1)}}},z=n(40089);const T=(0,z.Z)(Z,[["render",_]]);var U=T}}]);
//# sourceMappingURL=chunk.5839.1689579697743.js.map