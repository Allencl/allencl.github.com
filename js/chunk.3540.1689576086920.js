"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[3540],{13540:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var r=n(73396),o=n(87139),u=(0,r._)("span",{class:"font-weight-medium"},"详情",-1),l={class:"text-truncate font-weight-medium text-right text-teal-lighten-1",color:"primary"},s=(0,r._)("p",{class:"font-weight-medium text"},"出入库类型:",-1),a={class:"font-weight-light"},i=(0,r._)("p",{class:"font-weight-medium text"},"出入库编码:",-1),c={class:"font-weight-light",style:{color:"#00E5FF"}},f=(0,r._)("p",{class:"font-weight-medium text"},"出入库名称:",-1),m={class:"font-weight-light"},p=(0,r._)("p",{class:"font-weight-medium text"},"业务类型:",-1),d={class:"font-weight-light"},w=(0,r._)("p",{class:"font-weight-medium text"},"单据编码:",-1),h={class:"font-weight-light",style:{color:"#00E5FF"}},g=(0,r._)("p",{class:"font-weight-medium text"},"单据名称:",-1),_={class:"font-weight-light"},b=(0,r._)("p",{class:"font-weight-medium text"},"物资编码:",-1),W={class:"font-weight-light",style:{color:"#00E5FF"}},x=(0,r._)("p",{class:"font-weight-medium text"},"申请数量:",-1),y={class:"font-weight-light"},v=(0,r._)("p",{class:"font-weight-medium text"},"出入库说明:",-1),k={class:"font-weight-light"},U=(0,r._)("div",{style:{height:"6px"}},null,-1);function R(t,e,n,R,N,P){var C=(0,r.up)("AppBarPage"),V=(0,r.up)("v-icon"),Z=(0,r.up)("v-col"),z=(0,r.up)("v-row"),F=(0,r.up)("van-field"),D=(0,r.up)("v-switch"),S=(0,r.up)("SelectComponents"),I=(0,r.up)("v-btn"),O=(0,r.up)("v-sheet");return(0,r.wg)(),(0,r.iD)("span",null,[(0,r.Wm)(C),(0,r.Wm)(O,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(z,{"no-gutters":"",class:"custem-card-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r.Wm)(V,{icon:"mdi-rocket-launch",size:"16",color:"primary"}),u]})),_:1}),(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[(0,r._)("p",l,(0,o.zw)(t.bufferRow.abnormalNo),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[s]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",a,(0,o.zw)(P.FormatDictionary("ccgl_oper_type",t.bufferRow.useInfoType)["lable"]),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[i]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",c,(0,o.zw)(t.bufferRow.sparePartUseCode),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[f]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",m,(0,o.zw)(t.bufferRow.sparePartUseName),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[p]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",d,(0,o.zw)(P.FormatDictionary("ccgl_bpbj_business_type",t.bufferRow.businessType)["lable"]),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[w]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",h,(0,o.zw)(t.bufferRow.businessCode),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[g]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",_,(0,o.zw)(t.bufferRow.businessName),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[b]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",W,(0,o.zw)(t.bufferRow.goodsMaterialsCode),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[x]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",y,(0,o.zw)(t.bufferRow.goodsMaterialsNums),1)]})),_:1})]})),_:1}),(0,r.Wm)(z,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"5"},{default:(0,r.w5)((function(){return[v]})),_:1}),(0,r.Wm)(Z,{cols:"7"},{default:(0,r.w5)((function(){return[(0,r._)("p",k,(0,o.zw)(t.bufferRow.sparePartUseExplain),1)]})),_:1})]})),_:1}),(0,r.Wm)(F,{modelValue:t.number,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.number=e}),autocomplete:"off",required:"",placeholder:"请输入",label:"出库数量"},null,8,["modelValue"]),(0,r.Wm)(D,{modelValue:t.switch22,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.switch22=e}),label:t.switch22?"选择货架号":"输入货架号",color:"primary",density:"comfortable",style:{top:"-8px",left:"18px",position:"relative",height:"48px",display:"block",width:"304px"}},null,8,["modelValue","label"]),t.switch22?((0,r.wg)(),(0,r.j4)(S,{key:0,modelValue:t.property,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.property=e}),label:"货架号",ref:"select11",option:t.selectPropertyOption},null,8,["modelValue","option"])):(0,r.kq)("",!0),t.switch22?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(F,{key:1,modelValue:t.property,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.property=e}),autocomplete:"off",placeholder:"请输入",label:"货架号"},null,8,["modelValue"])),(0,r.Wm)(z,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(Z,{cols:"12",class:"text-left"},{default:(0,r.w5)((function(){return[(0,r.Wm)(I,{onClick:P.submit,block:"",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 提交 ")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),U])}var N=n(50124),P=n(48534),C=(n(57327),n(41539),n(21249),n(9653),n(76496)),V=n(37184),Z=n(2243),z=n(20868),F=n(36797),D=n.n(F),S={components:{AppBarPage:C.Z,SelectComponents:Z.Z},watch:{switch22:function(t){var e=this;this.property="",this.$nextTick((function(){e.$refs.select11&&e.$refs.select11.reset()}))}},data:function(){return{switch22:!0,bufferRow:{},number:"",property:"",selectPropertyOption:[]}},created:function(){this.initFunc()},methods:{FormatDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),r=n[t]||[],o=r.filter((function(t){return e==t.value}))[0]||{};return o},initFunc:function(){var t=this;return(0,P.Z)((0,N.Z)().mark((function e(){var n,r,o,u,l;return(0,N.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.query.sparePartUseId,e.next=3,(0,V.i)({url:"/iiot/sparePartUse",method:"get",url_RESTful:"/".concat(n)});case 3:r=e.sent,o=r.code,u=r.data,l=void 0===u?{}:u,200==o&&(t.bufferRow=l,t.shelfNumber(l));case 8:case"end":return e.stop()}}),e)})))()},shelfNumber:function(t){var e=this;return(0,P.Z)((0,N.Z)().mark((function n(){var r;return(0,N.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(),n.next=3,(0,V.i)({url:"/iiot/sparePartUse/getStorageDictByPartId/"+t.goodsMaterialsId,method:"get"});case 3:r=n.sent,e.selectPropertyOption=(r||[]).map((function(t){return Object.assign({text:t.dictLabel,value:t.dictCode})}));case 5:case"end":return n.stop()}}),n)})))()},submit:function(){var t=this;return(0,P.Z)((0,N.Z)().mark((function e(){var n,r,o,u,l;return(0,N.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=JSON.parse(localStorage.getItem("bufferUserInfo")||"{}"),t.number&&!(Number(t.number)<=0)){e.next=4;break}return(0,z.LJ)("出库数量必填大于0！"),e.abrupt("return");case 4:return r=Object.assign(t.bufferRow,{finishState:"Y",outDatetime:D()(new Date).format("YYYY-MM-DD HH:mm:ss"),outNums:Number(t.number),outUserName:n.userName,outUserCode:n.userId,storageCode:t.property}),e.next=7,(0,V.i)({url:"/iiot/sparePartUse",method:"put",payload:r});case 7:o=e.sent,u=o.code,l=o.data,void 0===l?{}:l,200==u&&((0,z.XA)("提交成功！"),t.$router.go(-1));case 12:case"end":return e.stop()}}),e)})))()}}},I=n(40089);const O=(0,I.Z)(S,[["render",R]]);var j=O}}]);
//# sourceMappingURL=chunk.3540.1689576086920.js.map