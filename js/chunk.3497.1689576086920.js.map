{"version":3,"file":"js/chunk.3497.1689576086920.js","mappings":"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","sources":["webpack://sinoboom-mom/./src/packages/UploaderImage.vue","webpack://sinoboom-mom/./src/packages/UploaderImage.vue?5dab","webpack://sinoboom-mom/./src/views/anomalyInitiateSection/discharged.vue","webpack://sinoboom-mom/./src/views/anomalyInitiateSection/discharged.vue?7db0"],"sourcesContent":["<template>\r\n    <span>\r\n        <div style=\"padding: 0px 12px 0px 12px;\">\r\n            <p v-if=\"preview\" class=\"font-weight-medium text\" style=\"margin-bottom:8px;\">图片预览 </p>\r\n            <p v-else style=\"margin-bottom:8px;\" class=\"font-weight-medium text\"> 图片上传 </p>\r\n            \r\n            <van-uploader \r\n                v-if=\"!preview\"\r\n                :after-read=\"afterRead\" \r\n                :preview-image=\"false\"\r\n            />\r\n            <div class=\"custem-iamge-upload\">\r\n                <li v-for=\"(o,i) in bufferFileList\" :key=\"i\" @click=\"checkImage(bufferFileList)\">\r\n                    <img :src=\"o.url\" />\r\n                    <v-icon v-if=\"!preview\" @click=\"removeClick(o,$event)\" class=\"icon\" icon=\"mdi-close-circle-outline\" color=\"red\"></v-icon>\r\n                </li>\r\n            </div>\r\n        </div>\r\n    </span>\r\n</template>\r\n<script>\r\n    import {httpHandle} from '@/http/http'  // api\r\n    import { showSuccessToast, showFailToast } from 'vant'\r\n    import { showImagePreview } from 'vant'\r\n\r\n  export default {\r\n    components:{\r\n\r\n    },\r\n    emits: [\"update:modelValue\",\"onChange\"],\r\n    data: () => ({\r\n        bufferFileList:[]\r\n    }),\r\n    watch: {\r\n        modelValue: { \r\n            handler(list=[]){\r\n                this.bufferFileList=list\r\n            },\r\n            deep: true, \r\n            immediate: true, \r\n        },\r\n        initPath:{\r\n            handler(path=\"\"){\r\n                if(path){\r\n                    this.bufferFileList=path.split(',').map(o=>Object.assign({url:o}))\r\n                }\r\n            },\r\n            deep: true, \r\n            immediate: true,             \r\n        }\r\n    },\r\n    methods: {\r\n        // 图片放大\r\n        checkImage(bufferFileList=[]){\r\n            if( !bufferFileList.length ) return\r\n            showImagePreview( bufferFileList.map(o=>o.url) )\r\n        },\r\n        // 图片上传\r\n        async afterRead (file){\r\n           \r\n   \r\n            if( !file.file.type.includes(\"image\") ){\r\n                showFailToast(\"只能选择图片！\")\r\n                return\r\n            }\r\n\r\n            // 限制图片大小\r\n            if( file.file.size>= (1024*1024*19) ){\r\n                showFailToast(\"图片超过20M！\")\r\n                return\r\n            }\r\n\r\n            // 图片 上限\r\n            if( this.bufferFileList.length>2 ){\r\n                showFailToast(\"最多只能选择3张图片！\")\r\n                return\r\n            }\r\n\r\n\r\n\r\n            let _formData= new FormData()\r\n            _formData.append(\"file\",file.file)\r\n\r\n            // console.log(_formData)\r\n            const {code,data={}}= await httpHandle({\r\n                url:'/file/upload',\r\n                method: \"post\",\r\n                formData:true,\r\n                payload:_formData\r\n            })\r\n           \r\n            if(code==200){\r\n                this.bufferFileList= this.bufferFileList.concat([data] )\r\n                showSuccessToast(\"图片上传成功！\")\r\n                // console.log(this.bufferFileList)\r\n\r\n                this.$emit('update:modelValue', JSON.parse( JSON.stringify(this.bufferFileList) ) )\r\n            }else{\r\n                showFailToast(\"图片上传失败！\")\r\n            }\r\n\r\n\r\n       },\r\n       // 删除图片\r\n       removeClick(option,event){\r\n            event.stopPropagation()\r\n            this.bufferFileList=JSON.parse(JSON.stringify(this.bufferFileList)).filter(o=>o.url!=option.url)\r\n\r\n            this.$nextTick(()=>{\r\n                    this.$emit('update:modelValue', JSON.parse( JSON.stringify(this.bufferFileList) ) )\r\n            })\r\n       } \r\n    },\r\n    props: {\r\n        modelValue:{\r\n            type: Array,\r\n            default: ()=> []\r\n        },\r\n        initPath:{\r\n            type: String,\r\n            default: ()=> ''\r\n        },\r\n        // 预览\r\n        preview:{\r\n            type: Boolean,\r\n            default: ()=> false\r\n        }\r\n    }\r\n  }\r\n</script>","import { render } from \"./UploaderImage.vue?vue&type=template&id=892f1b4c\"\nimport script from \"./UploaderImage.vue?vue&type=script&lang=js\"\nexport * from \"./UploaderImage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\codeAllen\\\\xingbangh5app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <span>\r\n        <AppBarPage>\r\n        </AppBarPage>\r\n\r\n\r\n\r\n        <v-sheet elevation=\"2\" rounded class=\"custem-card\">\r\n            <v-row no-gutters class=\"custem-card-title\">\r\n                <v-col cols=\"7\">\r\n                    <v-icon icon=\"mdi-rocket-launch\" size=\"16\" color=\"primary\"></v-icon>\r\n                    <span class=\"font-weight-medium\">例外转序信息</span>\r\n                </v-col>\r\n                <v-col cols=\"5\" class=\"text-right\">\r\n                    <!-- <span :style=\"`color:${!isEdit?'#4CAF50':'#00E5FF'}`\">{{ isEdit?'修改':'新增' }}</span> -->\r\n                    <!-- <p class=\"text-truncate font-weight-medium text-right text-teal-lighten-1\" color=\"primary\">{{ bufferRow.abnormalNo }}</p> -->\r\n                </v-col>\r\n            </v-row>\r\n\r\n            <v-row no-gutters class=\"text\">\r\n                <v-col cols=\"4\">\r\n                    <p class=\"font-weight-medium text\">序列号:</p>\r\n                </v-col>\r\n                <v-col cols=\"8\">\r\n                    <p class=\"font-weight-light text-left text-teal-lighten-1\">{{ bufferRow.sn }}</p>\r\n                </v-col>\r\n            </v-row>\r\n            \r\n            <v-row no-gutters class=\"text\">\r\n                <v-col cols=\"4\">\r\n                    <p class=\"font-weight-medium text\">发起工序:</p>\r\n                </v-col>\r\n                <v-col cols=\"8\">\r\n                    <p class=\"font-weight-light\">{{ bufferRow.initiateProcess }}</p>\r\n                </v-col>\r\n            </v-row>\r\n\r\n            <v-row no-gutters class=\"text\">\r\n                <v-col cols=\"4\">\r\n                    <p class=\"font-weight-medium text\">拦截工序:</p>\r\n                </v-col>\r\n                <v-col cols=\"8\">\r\n                    <p class=\"font-weight-light\">{{ bufferRow.interceptProcess }}</p>\r\n                </v-col>\r\n            </v-row>\r\n            <v-row no-gutters class=\"text\">\r\n                <v-col cols=\"4\">\r\n                    <p class=\"font-weight-medium text\">例外转序原因:</p>\r\n                </v-col>\r\n                <v-col cols=\"8\">\r\n                    <p class=\"font-weight-light\">{{ bufferRow.conversionDesc }}</p>\r\n                </v-col>\r\n            </v-row>\r\n\r\n            <v-row no-gutters class=\"text\">\r\n                <v-col cols=\"4\">\r\n                    <p class=\"font-weight-medium text\">整机物料:</p>\r\n                </v-col>\r\n                <v-col cols=\"8\">\r\n                    <p class=\"font-weight-light\">{{ bufferRow.partName }}</p>\r\n                </v-col>\r\n            </v-row>\r\n\r\n            <v-row no-gutters class=\"text\">\r\n                <v-col cols=\"4\">\r\n                    <p class=\"font-weight-medium text\">发起人:</p>\r\n                </v-col>\r\n                <v-col cols=\"8\">\r\n                    <p class=\"font-weight-light\" >{{ bufferRow.initiateByName }}</p>\r\n                </v-col>\r\n            </v-row>\r\n            <v-row no-gutters class=\"text\">\r\n                <v-col cols=\"4\">\r\n                    <p class=\"font-weight-medium text\">发起时间:</p>\r\n                </v-col>\r\n                <v-col cols=\"8\">\r\n                    <p class=\"font-weight-light\" >{{ bufferRow.createDate }}</p>\r\n                </v-col>\r\n            </v-row>\r\n\r\n  \r\n            <UploaderImageComponents \r\n                :initPath=\"bufferRow.initiatePath\"\r\n                preview\r\n            />\r\n\r\n            <SelectComponents \r\n                v-model=\"measures\"\r\n                ref=\"select11\"\r\n                label=\"放行工序\"\r\n          \r\n                required\r\n                :option=\"measuresSelectOption\"\r\n                @onSearchChange=\"measuresSelectSearchChange\"\r\n            />\r\n\r\n            <van-field v-model=\"value1\"  type=\"textarea\" required autocomplete=\"off\" placeholder=\"请输入\" label=\"放行原因\" />\r\n\r\n        \r\n\r\n            <v-row >\r\n   \r\n                <v-col cols=\"12\" class=\"text-left\">\r\n                    <v-btn @click=\"submit\" block color=\"primary\">\r\n                        放行\r\n                    </v-btn>\r\n                </v-col>\r\n                </v-row>\r\n        </v-sheet>\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        <div style=\"height:56px;\"></div>\r\n\r\n\r\n\r\n    </span>\r\n</template>\r\n<script>\r\n    import AppBarPage from '@/components/AppBar.vue' // 异常处理 详情\r\n    import {httpHandle} from '@/http/http'  // api\r\n    import SelectComponents from '@/packages/Select.vue'\r\n    import ScanBarComponents from '@/packages/ScanBar.vue'\r\n    import UploaderImageComponents from '@/packages/UploaderImage.vue'\r\n\r\n\r\n    \r\n\r\n    import { showSuccessToast,showFailToast } from 'vant'\r\n\r\n  export default {\r\n    components:{\r\n        AppBarPage,\r\n        ScanBarComponents,\r\n        SelectComponents,\r\n        UploaderImageComponents,\r\n    },\r\n    data: () => ({\r\n\r\n        bufferRow:{},  // 行数据\r\n\r\n        bufferFileList:[],  // 缓存图片\r\n\r\n        value1:\"\",   // 放行原因\r\n\r\n        measures:\"\",            // 发起工序\r\n        measuresSelectOption:[],    // 发起工序 数据\r\n\r\n    }),\r\n    watch: {\r\n\r\n    },\r\n    created(){\r\n        this.initFunc()\r\n        // this.measuresHTTP()\r\n    },\r\n    methods: {\r\n        // 数据字典 格式化\r\n        FormatDictionary(key=\"\",valueKey=\"\"){\r\n            const _bufferDictionaries=JSON.parse(localStorage.getItem(\"bufferDictionaries\")||\"{}\")\r\n            const _obj=(_bufferDictionaries[key] || [] )\r\n            const _option=_obj.filter(o=>valueKey==o.value)[0]||{}\r\n            return _option\r\n        },\r\n        // 初始化\r\n        async initFunc(){\r\n            const {ttQmAbnormalConversionId}=this.$route.query\r\n\r\n\r\n            const {code,data={}}= await httpHandle({\r\n                url:`/iiot/abnormalConversion/${ttQmAbnormalConversionId}`,\r\n                method: \"get\",\r\n            })\r\n\r\n            if(code==200){\r\n                this.bufferRow=data\r\n\r\n                if(data.ttPpOrderSnId){\r\n                    this.measuresHTTP(data.ttPpOrderSnId)\r\n                }\r\n            } \r\n\r\n        },\r\n        // 发起工序\r\n        async measuresHTTP(_ttPpOrderSnId){\r\n            const {bufferRow}=this\r\n\r\n\r\n            // const {code,data=[]}= await httpHandle({\r\n            //     url:'/iiot/nodeLevel/listNodeLevelForSelect',\r\n            //     method:\"get\",\r\n            //     url_params:{\r\n            //         noOrName:key,\r\n            //         templateLevelNodeNo:'uloc',\r\n            //         // tmBasNodeLevelId:this.tmBasNodeLevelId,\r\n            //         status:\"1\"\r\n            //     }\r\n\r\n            // }) \r\n\r\n\r\n            const {code,data=[]}= await httpHandle({\r\n                url:'/iiot/qmTask/getInspectNodeLevelList',\r\n                method:\"get\",\r\n                url_params:{\r\n                    ttPpOrderSnId:_ttPpOrderSnId\r\n                }\r\n            }) \r\n\r\n\r\n\r\n            if(code==200){\r\n                this.measuresSelectOption=data.map(o=>Object.assign({\r\n                    text:o.nodeLevelNo +o.nodeLevelName,\r\n                    value:o.tmBasNodeLevelId \r\n                }))\r\n            } \r\n        },\r\n        // 发起工序  模糊查询\r\n        measuresSelectSearchChange(text){\r\n            // this.measuresHTTP(text) \r\n        },\r\n        // 提交\r\n        async submit(){\r\n            const {ttQmAbnormalConversionId}=this.$route.query\r\n            const {bufferRow}=this\r\n\r\n            if( !this.measures ){\r\n                showFailToast('放行工序必选！')\r\n                return\r\n            }\r\n\r\n            if( !this.value1.trim() ){\r\n                showFailToast('放行原因必填！')\r\n                return\r\n            }\r\n\r\n\r\n\r\n            const _json={\r\n                ttQmAbnormalConversionId:ttQmAbnormalConversionId,  // 例外转序ID\r\n                dischargedProcessId: this.measures,  // 放行工序\r\n                dischargedExplain: this.value1  // 放行说明\r\n\r\n            }\r\n\r\n            const {code,data={}}= await httpHandle({\r\n                url:'/iiot/abnormalConversion/dischargedAbnormalConversion',\r\n                method: \"post\",\r\n                payload: _json\r\n            })\r\n\r\n            if(code==200){\r\n                showSuccessToast(\"提交成功！\")\r\n                this.$router.go(-1)\r\n            }\r\n        }\r\n    },\r\n  }\r\n</script>","import { render } from \"./discharged.vue?vue&type=template&id=a16a0cb0\"\nimport script from \"./discharged.vue?vue&type=script&lang=js\"\nexport * from \"./discharged.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\codeAllen\\\\xingbangh5app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","class","_createElementBlock","_createElementVNode","_hoisted_1","$props","preview","_hoisted_2","_hoisted_3","_createBlock","_component_van_uploader","$options","afterRead","_hoisted_4","_Fragment","_renderList","_ctx","bufferFileList","o","i","key","onClick","_cache","$event","checkImage","src","url","_component_v_icon","removeClick","icon","color","components","emits","data","watch","modelValue","handler","list","arguments","length","undefined","this","deep","immediate","initPath","path","split","map","Object","assign","methods","showImagePreview","file","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_formData","_yield$httpHandle","code","_yield$httpHandle$dat","wrap","_context","prev","next","type","includes","showFailToast","abrupt","size","FormData","append","httpHandle","method","formData","payload","sent","concat","showSuccessToast","$emit","JSON","parse","stringify","stop","option","event","_this2","stopPropagation","filter","$nextTick","props","Array","default","String","Boolean","__exports__","render","_createVNode","_component_AppBarPage","_component_v_sheet","elevation","rounded","_component_v_row","_component_v_col","cols","_toDisplayString","bufferRow","sn","_hoisted_5","initiateProcess","_hoisted_6","_hoisted_7","interceptProcess","_hoisted_8","_hoisted_9","conversionDesc","_hoisted_10","_hoisted_11","partName","_hoisted_12","_hoisted_13","initiateByName","_hoisted_14","_hoisted_15","createDate","_component_UploaderImageComponents","initiatePath","_component_SelectComponents","measures","ref","label","required","measuresSelectOption","onOnSearchChange","measuresSelectSearchChange","_component_van_field","value1","autocomplete","placeholder","_component_v_btn","submit","block","_hoisted_16","AppBarPage","ScanBarComponents","SelectComponents","UploaderImageComponents","created","initFunc","FormatDictionary","valueKey","_bufferDictionaries","localStorage","getItem","_obj","_option","value","ttQmAbnormalConversionId","$route","query","ttPpOrderSnId","measuresHTTP","_ttPpOrderSnId","_callee2","_yield$httpHandle2","_yield$httpHandle2$da","_context2","url_params","text","nodeLevelNo","nodeLevelName","tmBasNodeLevelId","_this3","_callee3","_json","_yield$httpHandle3","_yield$httpHandle3$da","_context3","trim","dischargedProcessId","dischargedExplain","$router","go"],"sourceRoot":""}