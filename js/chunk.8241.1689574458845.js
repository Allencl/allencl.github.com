"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[8241],{28241:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var a=t(73396),o=t(87139);const r=(0,a._)("p",{class:"font-weight-medium text"},"出入库名称:",-1),u={class:"font-weight-light"},l=(0,a._)("p",{class:"font-weight-medium text"},"业务类型:",-1),i={class:"font-weight-light"},n=(0,a._)("p",{class:"font-weight-medium text"},"单据编码:",-1),m={class:"font-weight-light"},d=(0,a._)("p",{class:"font-weight-medium text"},"物资编码:",-1),f={class:"font-weight-light"},c=(0,a._)("p",{class:"font-weight-medium text"},"出入库说明:",-1),p={class:"font-weight-light"},w=(0,a._)("p",{class:"font-weight-medium text"},"申请数量:",-1),g={class:"font-weight-light"},b=(0,a._)("div",{style:{height:"6px"}},null,-1);function h(e,s,t,h,_,N){const W=(0,a.up)("AppBarPage"),U=(0,a.up)("v-col"),x=(0,a.up)("v-row"),y=(0,a.up)("van-field"),C=(0,a.up)("v-sheet"),P=(0,a.up)("v-btn");return(0,a.wg)(),(0,a.iD)("span",null,[(0,a.Wm)(W),(0,a.Wm)(C,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{"no-gutters":"",class:"text"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{cols:"5"},{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(U,{cols:"7"},{default:(0,a.w5)((()=>[(0,a._)("p",u,(0,o.zw)(e.bufferRow.sparePartUseName),1)])),_:1})])),_:1}),(0,a.Wm)(x,{"no-gutters":"",class:"text"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{cols:"5"},{default:(0,a.w5)((()=>[l])),_:1}),(0,a.Wm)(U,{cols:"7"},{default:(0,a.w5)((()=>[(0,a._)("p",i,(0,o.zw)(N.FormatDictionary("ccgl_bpbj_business_type",e.bufferRow.businessType)["lable"]),1)])),_:1})])),_:1}),(0,a.Wm)(x,{"no-gutters":"",class:"text"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{cols:"5"},{default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)(U,{cols:"7"},{default:(0,a.w5)((()=>[(0,a._)("p",m,(0,o.zw)(e.bufferRow.businessCode),1)])),_:1})])),_:1}),(0,a.Wm)(x,{"no-gutters":"",class:"text"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{cols:"5"},{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(U,{cols:"7"},{default:(0,a.w5)((()=>[(0,a._)("p",f,(0,o.zw)(e.bufferRow.goodsMaterialsCode),1)])),_:1})])),_:1}),(0,a.Wm)(x,{"no-gutters":"",class:"text"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{cols:"5"},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(U,{cols:"7"},{default:(0,a.w5)((()=>[(0,a._)("p",p,(0,o.zw)(e.bufferRow.sparePartUseExplain),1)])),_:1})])),_:1}),(0,a.Wm)(x,{"no-gutters":"",class:"text"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{cols:"5"},{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(U,{cols:"7"},{default:(0,a.w5)((()=>[(0,a._)("p",g,(0,o.zw)(e.bufferRow.goodsMaterialsNums),1)])),_:1})])),_:1}),(0,a.Wm)(y,{modelValue:e.number,"onUpdate:modelValue":s[0]||(s[0]=s=>e.number=s),placeholder:"请输入",autocomplete:"off",label:"归还数量",required:"",type:"number"},null,8,["modelValue"])])),_:1}),b,(0,a.Wm)(P,{onClick:N.submit,block:"",color:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 提交 ")])),_:1},8,["onClick"])])}var _=t(76496),N=t(37184),W=t(20868),U={components:{AppBarPage:_.Z},data:()=>({bufferRow:{},number:""}),created(){this.initFunc()},methods:{FormatDictionary(e="",s=""){const t=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),a=t[e]||[],o=a.filter((e=>s==e.value))[0]||{};return o},async initFunc(){const{row:e={}}=this.$route.query;this.bufferRow=JSON.parse(e),this.$nextTick((()=>{this.number=this.bufferRow.goodsMaterialsNums}))},async submit(){const{bufferRow:e}=this,s=JSON.parse(localStorage.getItem("bufferUserInfo")||"{}");if(!this.number||Number(this.number)<=0)return void(0,W.LJ)("归还数量必填大于0！");if(Number(this.number)>Number(e.goodsMaterialsNums))return void(0,W.LJ)("归还数量不能大于申请数量！");const t={businessId:e.sparePartUseId,businessCode:e.sparePartUseCode,businessName:e.sparePartUseName,sparePartUseCode:"GH-"+e.goodsMaterialsCode,sparePartUseName:e.sparePartUseName+"归还物料",sparePartUseExplain:e.sparePartUseCode+"-"+e.sparePartUseName+"归还物料",useInfoType:"1",businessType:e.businessType,operType:"Y",goodsMaterialsId:e.goodsMaterialsId,goodsMaterialsCode:e.goodsMaterialsCode,goodsMaterialsName:e.goodsMaterialsName,goodsMaterialsNums:e.outNums,operUserName:s.userName,operUserCode:s.userId,finishState:"N",goodsMaterialsNums:Number(this.number)},{code:a,data:o={}}=await(0,N.i)({url:"/iiot/sparePartUse",method:"post",payload:t});200==a&&((0,W.XA)("提交成功！"),this.$router.go(-1))}}},x=t(40089);const y=(0,x.Z)(U,[["render",h]]);var C=y}}]);
//# sourceMappingURL=chunk.8241.1689574458845.js.map