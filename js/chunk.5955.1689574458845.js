"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[5955],{21472:function(t,e,a){a.d(e,{Oh:function(){return o},_w:function(){return i}});var l=a(37184);const i=async t=>await(0,l.i)({url:"/iiot/equipmentRepair/responseWbForApp",method:"post",payload:t.payload}),o=async t=>await(0,l.i)({url:"/iiot/equipmentRepairHistory",method:"get",url_RESTful:t.url_RESTful})},88575:function(t,e,a){a.d(e,{Z:function(){return k}});var l=a(73396),i=a(87139);const o={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},s=(0,l._)("span",null,"第",-1),n={style:{"padding-left":"1px","padding-right":"1px"}},u=(0,l._)("span",{style:{"margin-right":"3px"}},"页",-1),r=(0,l._)("span",null,"共",-1),c={style:{"padding-left":"1px","padding-right":"1px"}},m=(0,l._)("span",{style:{"margin-right":"3px"}},"页",-1),p=(0,l._)("span",null,"总",-1),d={style:{"padding-left":"1px","padding-right":"1px"}},f=(0,l._)("span",null,"条",-1),h={style:{position:"relative",top:"1px","margin-left":"0px"}},w={key:2,class:"text-center",style:{"padding-top":"12px"}};function g(t,e,a,g,_,v){const x=(0,l.up)("v-icon"),W=(0,l.up)("v-btn"),y=(0,l.up)("v-card");return(0,l.wg)(),(0,l.iD)("span",null,[t.paging&&a.pagingShow?((0,l.wg)(),(0,l.j4)(y,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:v.previousHandle},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{size:"28"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-chevron-left")])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(W,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:v.nextHandle},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{size:"28"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-chevron-right")])),_:1})])),_:1},8,["onClick"]),(0,l._)("span",o,[s,(0,l._)("span",n,(0,i.zw)(t.current),1),u,r,(0,l._)("span",c,(0,i.zw)(t.page),1),m,p,(0,l._)("span",d,(0,i.zw)(t.totalNum),1),f]),(0,l._)("span",h,[a.showSearchBtn?((0,l.wg)(),(0,l.j4)(W,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:v.searchClick,variant:"plain",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{size:"24",icon:"mdi-magnify"}),(0,l.Uk)(" 查询 ")])),_:1},8,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(W,{onClick:v.refreshClick,style:(0,i.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 刷新 ")])),_:1},8,["onClick"])])])),_:1})):(0,l.kq)("",!0),t.items.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(t.items,((e,a)=>(0,l.WI)(t.$slots,"tableBody",{key:a,items:e,_index:a}))),128)):((0,l.wg)(),(0,l.iD)("p",w,[(0,l.Wm)(x,{icon:"mdi-emoticon-sad-outline"}),(0,l.Uk)(" 无数据！ ")]))])}var _=a(21801),v=a(37184);var x=a(20868),W={components:{},emits:["searchClick","refresh"],data:()=>({totalNum:0,current:1,page:0,paging:!0,items:[]}),created(){const{auto:t,url:e}=this;t&&e&&this.initFunc()},methods:{previousHandle(){const{current:t}=this;1!=t?(this.current=t-1,this.$nextTick((()=>{this.initFunc(this.current)}))):(0,x.LJ)("第一页！")},nextHandle(){const{current:t,page:e}=this;t>=e?(0,x.LJ)("最后一页！"):(this.current=t+1,this.$nextTick((()=>{this.initFunc(this.current)})))},async initFunc(t=1,e){const{url:a,params:l={},children:i,method:o,formatData:s}=this;if(i)return this.items=i,void(this.paging=!1);const n=(0,_.Z)((0,_.Z)({pageNum:t,pageSize:10},l),e),{code:u,total:r=0,msg:c="",data:m,rows:p}=await(0,v.i)({method:o,url:a,payload:"post"==o?n:{},url_params:"get"==o?n:{}});200==u&&(this.totalNum=r,this.current=t,this.page=Math.ceil(r/n.pageSize),this.items=s?s(m||p||[]):m||p||[])},refreshClick(){const{refreshFunc:t}=this;!t&&this.initFunc(1),this.$emit("refresh")},searchClick(){this.$emit("searchClick")},resultData(){return this.items||[]},selectAll(){this.items=this.items.map((t=>Object.assign(t,{_checked:!0})))}},props:{method:{type:String,default:()=>"get"},refreshFunc:{type:Boolean,default:()=>!1},showSearchBtn:{type:Boolean,default:()=>!1},auto:{type:Boolean,default:()=>!0},pagingShow:{type:Boolean,default:()=>!0},children:{type:Array,default:()=>{}},url:{type:String,default:()=>""},params:{type:Object,default:()=>{}},formatData:{}}},y=a(40089);const b=(0,y.Z)(W,[["render",g]]);var k=b},55955:function(t,e,a){a.r(e),a.d(e,{default:function(){return $}});var l=a(73396),i=a(87139);const o=(0,l._)("span",{class:"font-weight-medium"},"维修设备信息",-1),s=(0,l._)("p",{class:"font-weight-medium text"},"故障类型:",-1),n={class:"text-truncate font-weight-light"},u=(0,l._)("p",{class:"font-weight-medium text"},"故障位置:",-1),r={class:"text-truncate font-weight-light"},c=(0,l._)("p",{class:"font-weight-medium text"},"故障详情描述:",-1),m={class:"text-truncate font-weight-light"},p=(0,l._)("p",{class:"font-weight-medium text"},"维修类型:",-1),d={class:"text-truncate font-weight-light"},f=(0,l._)("p",{class:"font-weight-medium text"},"报修人:",-1),h={class:"text-truncate font-weight-light"},w=(0,l._)("p",{class:"font-weight-medium text"},"报修时间:",-1),g={class:"text-truncate font-weight-light"},_=(0,l._)("p",{class:"font-weight-medium text"},"响应人:",-1),v={class:"text-truncate font-weight-light"},x=(0,l._)("p",{class:"font-weight-medium text"},"响应时间:",-1),W={class:"text-truncate font-weight-light"},y=(0,l._)("p",{class:"font-weight-medium text"},"维修人:",-1),b={class:"text-truncate font-weight-light"},k=(0,l._)("p",{class:"font-weight-medium text"},"维修时间:",-1),z={class:"text-truncate font-weight-light"},C=(0,l._)("span",{class:"font-weight-medium"},"维修经验填写",-1),R=(0,l._)("div",{style:{height:"60px"}},null,-1);function V(t,e,a,V,S,q){const F=(0,l.up)("AppBarPage"),T=(0,l.up)("v-icon"),B=(0,l.up)("v-col"),U=(0,l.up)("v-row"),D=(0,l.up)("v-sheet"),Z=(0,l.up)("van-field"),$=(0,l.up)("v-btn");return(0,l.wg)(),(0,l.iD)("span",null,[(0,l.Wm)(F),(0,l.Wm)(D,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{"no-gutters":"",class:"custem-card-title"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{icon:"mdi-bullhorn",size:"16",color:"primary"}),o])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[s])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",n,(0,i.zw)(t.bufferRow.faultTypeCn),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[u])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",r,(0,i.zw)(t.bufferRow.faultStationCn),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[c])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",m,(0,i.zw)(t.bufferRow.problemDesc),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",d,(0,i.zw)(q.FormatDictionary("equipment_repair_type",t.bufferRow.reportType)["lable"]),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[f])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",h,(0,i.zw)(t.bufferRow.reportBy),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[w])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",g,(0,i.zw)(t.bufferRow.reportTime),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[_])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",v,(0,i.zw)(t.bufferRow.responseBy),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",W,(0,i.zw)(t.bufferRow.responseTime),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[y])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",b,(0,i.zw)(t.bufferRow.productRepairBy),1)])),_:1})])),_:1}),(0,l.Wm)(U,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"4"},{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(B,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",z,(0,i.zw)(t.bufferRow.productRepairTime),1)])),_:1})])),_:1})])),_:1}),(0,l.Wm)(D,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{"no-gutters":"",class:"custem-card-title"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{cols:"6"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{icon:"mdi-pencil-outline",size:"16",color:"primary"}),C])),_:1}),(0,l.Wm)(B,{cols:"6"})])),_:1}),(0,l.Wm)(Z,{modelValue:t.value1,"onUpdate:modelValue":e[0]||(e[0]=e=>t.value1=e),autocomplete:"off",label:"根本问题",placeholder:"请输入",required:""},null,8,["modelValue"]),(0,l.Wm)(Z,{modelValue:t.value2,"onUpdate:modelValue":e[1]||(e[1]=e=>t.value2=e),autocomplete:"off",label:"解决措施",placeholder:"请输入",required:""},null,8,["modelValue"]),(0,l.Wm)(Z,{modelValue:t.value3,"onUpdate:modelValue":e[2]||(e[2]=e=>t.value3=e),autocomplete:"off",label:"改进建议",placeholder:"请输入",required:""},null,8,["modelValue"]),(0,l.Wm)(Z,{modelValue:t.value4,"onUpdate:modelValue":e[3]||(e[3]=e=>t.value4=e),autocomplete:"off",label:"维修用时",type:"number",placeholder:"请输入"},null,8,["modelValue"]),(0,l.Wm)(Z,{modelValue:t.value5,"onUpdate:modelValue":e[4]||(e[4]=e=>t.value5=e),autocomplete:"off",label:"维修内容",placeholder:"请输入"},null,8,["modelValue"]),(0,l.Wm)(Z,{modelValue:t.value6,"onUpdate:modelValue":e[5]||(e[5]=e=>t.value6=e),autocomplete:"off",label:"工具",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),(0,l.Wm)($,{elevation:"2",block:"",onClick:q.onSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确认 ")])),_:1},8,["onClick"]),R])}var S=a(21801),q=(a(73210),a(57658),a(76496)),F=a(88575),T=a(37184),B=(a(21472),a(20868)),U={components:{AppBarPage:q.Z,TableComponents:F.Z},data:()=>({bufferRow:{},value1:"",value2:"",value3:"",value4:"",value5:"",value6:""}),created(){this.initFunc()},methods:{FormatDictionary(t="",e=""){const a=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),l=a[t]||[],i=l.filter((t=>e==t.value))[0]||{};return i},async initFunc(){const{teAdRepairId:t}=this.$route.query,{code:e,data:a={}}=await(0,T.i)({url:`/iiot/equipmentRepair/${t}`,method:"get"});200==e&&(this.bufferRow=a,this.value1=a.rootWarin,this.value2=a.solvingMeasures,this.value3=a.suggestionsImprovement,this.value4=a.repairTime,this.value5=a.repairContent,this.value6=a.tool)},async onSubmit(){const{value1:t,value2:e,value3:a,bufferRow:l}=this;if(!t.trim())return void(0,B.LJ)("根本问题必填!");if(!e.trim())return void(0,B.LJ)("解决措施必填!");if(!a.trim())return void(0,B.LJ)("改进建议必填!");const i=(0,S.Z)((0,S.Z)({},l),{},{rootWarin:t,solvingMeasures:e,suggestionsImprovement:a,repairTime:this.value4,repairContent:this.value5,tool:this.value6}),{code:o,data:s={}}=await(0,T.i)({url:"/iiot/equipmentRepair/editTalk",method:"put",payload:i});200==o&&this.$router.push({path:"/equipment/maintain",query:{tabs:2}})},uploadFunc(){(0,B.XA)("正在建设中！")}}},D=a(40089);const Z=(0,D.Z)(U,[["render",V]]);var $=Z}}]);
//# sourceMappingURL=chunk.5955.1689574458845.js.map