"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[5955],{21472:function(t,e,n){n.d(e,{Oh:function(){return o},_w:function(){return i}});var r=n(50124),u=n(48534),a=n(37184),i=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/equipmentRepair/responseWbForApp",method:"post",payload:e.payload});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/equipmentRepairHistory",method:"get",url_RESTful:e.url_RESTful});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},88575:function(t,e,n){n.d(e,{Z:function(){return z}});var r=n(73396),u=n(87139),a={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},i=(0,r._)("span",null,"第",-1),o={style:{"padding-left":"1px","padding-right":"1px"}},l=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),c=(0,r._)("span",null,"共",-1),s={style:{"padding-left":"1px","padding-right":"1px"}},f=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),p=(0,r._)("span",null,"总",-1),m={style:{"padding-left":"1px","padding-right":"1px"}},d=(0,r._)("span",null,"条",-1),h={style:{position:"relative",top:"1px","margin-left":"0px"}},w={key:2,class:"text-center",style:{"padding-top":"12px"}};function g(t,e,n,g,v,_){var x=(0,r.up)("v-icon"),W=(0,r.up)("v-btn"),y=(0,r.up)("v-card");return(0,r.wg)(),(0,r.iD)("span",null,[t.paging&&n.pagingShow?((0,r.wg)(),(0,r.j4)(y,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(W,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:_.previousHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-left")]})),_:1})]})),_:1},8,["onClick"]),(0,r.Wm)(W,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:_.nextHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-right")]})),_:1})]})),_:1},8,["onClick"]),(0,r._)("span",a,[i,(0,r._)("span",o,(0,u.zw)(t.current),1),l,c,(0,r._)("span",s,(0,u.zw)(t.page),1),f,p,(0,r._)("span",m,(0,u.zw)(t.totalNum),1),d]),(0,r._)("span",h,[n.showSearchBtn?((0,r.wg)(),(0,r.j4)(W,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:_.searchClick,variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"24",icon:"mdi-magnify"}),(0,r.Uk)(" 查询 ")]})),_:1},8,["onClick"])):(0,r.kq)("",!0),(0,r.Wm)(W,{onClick:_.refreshClick,style:(0,u.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 刷新 ")]})),_:1},8,["onClick"])])]})),_:1})):(0,r.kq)("",!0),t.items.length?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(t.items,(function(e,n){return(0,r.WI)(t.$slots,"tableBody",{key:n,items:e,_index:n})})),128)):((0,r.wg)(),(0,r.iD)("p",w,[(0,r.Wm)(x,{icon:"mdi-emoticon-sad-outline"}),(0,r.Uk)(" 无数据！ ")]))])}var v=n(50124),_=n(95082),x=n(48534),W=(n(21249),n(37184)),y=n(20868),b={components:{},emits:["searchClick","refresh"],data:function(){return{totalNum:0,current:1,page:0,paging:!0,items:[]}},created:function(){var t=this.auto,e=this.url;t&&e&&this.initFunc()},methods:{previousHandle:function(){var t=this,e=this.current;1!=e?(this.current=e-1,this.$nextTick((function(){t.initFunc(t.current)}))):(0,y.LJ)("第一页！")},nextHandle:function(){var t=this,e=this.current,n=this.page;e>=n?(0,y.LJ)("最后一页！"):(this.current=e+1,this.$nextTick((function(){t.initFunc(t.current)})))},initFunc:function(){var t=arguments,e=this;return(0,x.Z)((0,v.Z)().mark((function n(){var r,u,a,i,o,l,c,s,f,p,m,d,h,w,g,x;return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:1,u=t.length>1?t[1]:void 0,a=e.url,i=e.params,o=void 0===i?{}:i,l=e.children,c=e.method,s=e.formatData,!l){n.next=7;break}return e.items=l,e.paging=!1,n.abrupt("return");case 7:return f=(0,_.Z)((0,_.Z)({pageNum:r,pageSize:10},o),u),n.next=10,(0,W.i)({method:c,url:a,payload:"post"==c?f:{},url_params:"get"==c?f:{}});case 10:p=n.sent,m=p.code,d=p.total,h=void 0===d?0:d,w=p.msg,void 0===w?"":w,g=p.data,x=p.rows,200==m&&(e.totalNum=h,e.current=r,e.page=Math.ceil(h/f.pageSize),e.items=s?s(g||x||[]):g||x||[]);case 19:case"end":return n.stop()}}),n)})))()},refreshClick:function(){var t=this.refreshFunc;!t&&this.initFunc(1),this.$emit("refresh")},searchClick:function(){this.$emit("searchClick")},resultData:function(){return this.items||[]},selectAll:function(){this.items=this.items.map((function(t){return Object.assign(t,{_checked:!0})}))}},props:{method:{type:String,default:function(){return"get"}},refreshFunc:{type:Boolean,default:function(){return!1}},showSearchBtn:{type:Boolean,default:function(){return!1}},auto:{type:Boolean,default:function(){return!0}},pagingShow:{type:Boolean,default:function(){return!0}},children:{type:Array,default:function(){}},url:{type:String,default:function(){return""}},params:{type:Object,default:function(){}},formatData:{}}},k=n(40089);const Z=(0,k.Z)(b,[["render",g]]);var z=Z},55955:function(t,e,n){n.r(e),n.d(e,{default:function(){return H}});var r=n(73396),u=n(87139),a=(0,r._)("span",{class:"font-weight-medium"},"维修设备信息",-1),i=(0,r._)("p",{class:"font-weight-medium text"},"故障类型:",-1),o={class:"text-truncate font-weight-light"},l=(0,r._)("p",{class:"font-weight-medium text"},"故障位置:",-1),c={class:"text-truncate font-weight-light"},s=(0,r._)("p",{class:"font-weight-medium text"},"故障详情描述:",-1),f={class:"text-truncate font-weight-light"},p=(0,r._)("p",{class:"font-weight-medium text"},"维修类型:",-1),m={class:"text-truncate font-weight-light"},d=(0,r._)("p",{class:"font-weight-medium text"},"报修人:",-1),h={class:"text-truncate font-weight-light"},w=(0,r._)("p",{class:"font-weight-medium text"},"报修时间:",-1),g={class:"text-truncate font-weight-light"},v=(0,r._)("p",{class:"font-weight-medium text"},"响应人:",-1),_={class:"text-truncate font-weight-light"},x=(0,r._)("p",{class:"font-weight-medium text"},"响应时间:",-1),W={class:"text-truncate font-weight-light"},y=(0,r._)("p",{class:"font-weight-medium text"},"维修人:",-1),b={class:"text-truncate font-weight-light"},k=(0,r._)("p",{class:"font-weight-medium text"},"维修时间:",-1),Z={class:"text-truncate font-weight-light"},z=(0,r._)("span",{class:"font-weight-medium"},"维修经验填写",-1),C=(0,r._)("div",{style:{height:"60px"}},null,-1);function R(t,e,n,R,V,S){var q=(0,r.up)("AppBarPage"),F=(0,r.up)("v-icon"),T=(0,r.up)("v-col"),B=(0,r.up)("v-row"),U=(0,r.up)("v-sheet"),D=(0,r.up)("van-field"),A=(0,r.up)("v-btn");return(0,r.wg)(),(0,r.iD)("span",null,[(0,r.Wm)(q),(0,r.Wm)(U,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(B,{"no-gutters":"",class:"custem-card-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(F,{icon:"mdi-bullhorn",size:"16",color:"primary"}),a]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[i]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",o,(0,u.zw)(t.bufferRow.faultTypeCn),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[l]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",c,(0,u.zw)(t.bufferRow.faultStationCn),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[s]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",f,(0,u.zw)(t.bufferRow.problemDesc),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[p]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",m,(0,u.zw)(S.FormatDictionary("equipment_repair_type",t.bufferRow.reportType)["lable"]),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[d]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",h,(0,u.zw)(t.bufferRow.reportBy),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[w]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",g,(0,u.zw)(t.bufferRow.reportTime),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[v]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",_,(0,u.zw)(t.bufferRow.responseBy),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[x]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",W,(0,u.zw)(t.bufferRow.responseTime),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[y]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",b,(0,u.zw)(t.bufferRow.productRepairBy),1)]})),_:1})]})),_:1}),(0,r.Wm)(B,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"4"},{default:(0,r.w5)((function(){return[k]})),_:1}),(0,r.Wm)(T,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",Z,(0,u.zw)(t.bufferRow.productRepairTime),1)]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(U,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(B,{"no-gutters":"",class:"custem-card-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(T,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(F,{icon:"mdi-pencil-outline",size:"16",color:"primary"}),z]})),_:1}),(0,r.Wm)(T,{cols:"6"})]})),_:1}),(0,r.Wm)(D,{modelValue:t.value1,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.value1=e}),autocomplete:"off",label:"根本问题",placeholder:"请输入",required:""},null,8,["modelValue"]),(0,r.Wm)(D,{modelValue:t.value2,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.value2=e}),autocomplete:"off",label:"解决措施",placeholder:"请输入",required:""},null,8,["modelValue"]),(0,r.Wm)(D,{modelValue:t.value3,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.value3=e}),autocomplete:"off",label:"改进建议",placeholder:"请输入",required:""},null,8,["modelValue"]),(0,r.Wm)(D,{modelValue:t.value4,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.value4=e}),autocomplete:"off",label:"维修用时",type:"number",placeholder:"请输入"},null,8,["modelValue"]),(0,r.Wm)(D,{modelValue:t.value5,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.value5=e}),autocomplete:"off",label:"维修内容",placeholder:"请输入"},null,8,["modelValue"]),(0,r.Wm)(D,{modelValue:t.value6,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.value6=e}),autocomplete:"off",label:"工具",placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(A,{elevation:"2",block:"",onClick:S.onSubmit},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 确认 ")]})),_:1},8,["onClick"]),C])}var V=n(95082),S=n(50124),q=n(48534),F=(n(57327),n(41539),n(73210),n(57658),n(76496)),T=n(88575),B=n(37184),U=(n(21472),n(20868)),D={components:{AppBarPage:F.Z,TableComponents:T.Z},data:function(){return{bufferRow:{},value1:"",value2:"",value3:"",value4:"",value5:"",value6:""}},created:function(){this.initFunc()},methods:{FormatDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),r=n[t]||[],u=r.filter((function(t){return e==t.value}))[0]||{};return u},initFunc:function(){var t=this;return(0,q.Z)((0,S.Z)().mark((function e(){var n,r,u,a,i;return(0,S.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.query.teAdRepairId,e.next=3,(0,B.i)({url:"/iiot/equipmentRepair/".concat(n),method:"get"});case 3:r=e.sent,u=r.code,a=r.data,i=void 0===a?{}:a,200==u&&(t.bufferRow=i,t.value1=i.rootWarin,t.value2=i.solvingMeasures,t.value3=i.suggestionsImprovement,t.value4=i.repairTime,t.value5=i.repairContent,t.value6=i.tool);case 8:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var t=this;return(0,q.Z)((0,S.Z)().mark((function e(){var n,r,u,a,i,o,l,c;return(0,S.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.value1,r=t.value2,u=t.value3,a=t.bufferRow,n.trim()){e.next=4;break}return(0,U.LJ)("根本问题必填!"),e.abrupt("return");case 4:if(r.trim()){e.next=7;break}return(0,U.LJ)("解决措施必填!"),e.abrupt("return");case 7:if(u.trim()){e.next=10;break}return(0,U.LJ)("改进建议必填!"),e.abrupt("return");case 10:return i=(0,V.Z)((0,V.Z)({},a),{},{rootWarin:n,solvingMeasures:r,suggestionsImprovement:u,repairTime:t.value4,repairContent:t.value5,tool:t.value6}),e.next=13,(0,B.i)({url:"/iiot/equipmentRepair/editTalk",method:"put",payload:i});case 13:o=e.sent,l=o.code,c=o.data,void 0===c?{}:c,200==l&&t.$router.push({path:"/equipment/maintain",query:{tabs:2}});case 18:case"end":return e.stop()}}),e)})))()},uploadFunc:function(){(0,U.XA)("正在建设中！")}}},A=n(40089);const $=(0,A.Z)(D,[["render",R]]);var H=$}}]);
//# sourceMappingURL=chunk.5955.1689579697743.js.map