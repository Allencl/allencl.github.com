"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[3395],{2243:function(e,t,i){i.d(t,{Z:function(){return w}});var s=i(73396),l=i(87139);const a={style:{height:"98%","padding-bottom":"40px"}},o={style:{height:"100%"}},n={style:{position:"relative",top:"4px"}},r=["onClick"],c={class:"text-truncate",style:{height:"24px"}},d={key:2,class:"text-center",style:{"margin-top":"16px"}};function u(e,t,i,u,h,m){const p=(0,s.up)("van-field"),f=(0,s.up)("v-col"),w=(0,s.up)("v-btn"),g=(0,s.up)("v-row"),y=(0,s.up)("van-search"),_=(0,s.up)("van-checkbox"),x=(0,s.up)("van-popup");return(0,s.wg)(),(0,s.iD)("span",null,[(0,s.Wm)(p,{modelValue:e.fieldValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fieldValue=t),"is-link":"",readonly:"",required:i.required,label:i.label,placeholder:i.placeholder,autocomplete:"off",type:i.multiple?"textarea":"text",onClick:m.fieldClick},null,8,["modelValue","required","label","placeholder","type","onClick"]),(0,s.Wm)(x,{show:e.showPicker,"onUpdate:show":t[5]||(t[5]=t=>e.showPicker=t),style:{padding:"12px 12px 4px 12px",height:"60%",width:"90%"},round:""},{default:(0,s.w5)((()=>[(0,s._)("div",a,[(0,s._)("div",o,[(0,s.Wm)(g,{"no-gutters":"",style:{"font-weight":"bold","border-bottom":"1px solid #ccc","padding-bottom":"5px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{cols:"6"},{default:(0,s.w5)((()=>[(0,s._)("p",null,(0,l.zw)(i.label)+"-选择框",1)])),_:1}),(0,s.Wm)(f,{cols:"6",class:"text-right"},{default:(0,s.w5)((()=>[(0,s._)("span",n,(0,l.zw)(e.BufferOption.filter((e=>e._checked)).length),1),i.selectAll?((0,s.wg)(),(0,s.j4)(w,{key:0,onClick:m.selectAllHandle,color:"primary mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,s.w5)((()=>[(0,s.Uk)("全选")])),_:1},8,["onClick"])):(0,s.kq)("",!0)])),_:1})])),_:1}),i.showSearch?((0,s.wg)(),(0,s.j4)(g,{key:0,"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{cols:"8"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{modelValue:e.valueSearch,"onUpdate:modelValue":t[1]||(t[1]=t=>e.valueSearch=t),shape:"",placeholder:i.placeholderSearch,style:{"padding-left":"0px"},clearable:!1},null,8,["modelValue","placeholder"])])),_:1}),(0,s.Wm)(f,{cols:"2"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onClick:t[2]||(t[2]=e=>m.searchHandle(!0)),variant:"plain",color:"primary",block:"",style:{"margin-top":"8px"}},{default:(0,s.w5)((()=>[(0,s.Uk)(" 查询 ")])),_:1})])),_:1}),(0,s.Wm)(f,{cols:"2"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onClick:t[3]||(t[3]=e=>m.searchHandle(!1)),variant:"plain",block:"",style:{"margin-top":"8px"}},{default:(0,s.w5)((()=>[(0,s.Uk)(" 重置 ")])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),e.BufferOption.length?((0,s.wg)(),(0,s.iD)("ul",{key:1,style:(0,l.j5)(`height: ${i.showSearch?"73%":"90%"};overflow-y:auto;padding-right:12px;padding-bottom: 20px;`)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.BufferOption,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,style:(0,l.j5)(`padding: 6px 22px 6px 6px;position:relative;color:${e._searchColor?"#FF9800":"#000"};`),onClick:t=>m.checkChange(e)},[(0,s._)("p",c,(0,l.zw)(e.text),1),(0,s.Wm)(_,{style:{position:"absolute",top:"8px",right:"0px"},modelValue:e._checked,"onUpdate:modelValue":t=>e._checked=t,shape:"square","checked-color":"#4CAF50",disabled:"",class:"custem-select-checkbox"},null,8,["modelValue","onUpdate:modelValue"])],12,r)))),128))],4)):((0,s.wg)(),(0,s.iD)("p",d,"无数据!"))]),(0,s.Wm)(g,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{cols:"6",class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{variant:"plain",block:"",onClick:t[4]||(t[4]=()=>e.showPicker=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)(" 取消 ")])),_:1})])),_:1}),(0,s.Wm)(f,{cols:"6",class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{variant:"plain",color:"primary",block:"",onClick:m.confirmHandle},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1},8,["show"])])}i(38862),i(73210),i(26699),i(32023);var h=i(20868),m={components:{},emits:["update:modelValue","onChange","onFieldClick","onSearchChange"],data:()=>({BufferOption:[],selectedValues:[],columns:[],fieldValue:"",showPicker:!1,valueSearch:""}),watch:{option:{handler(e=[]){this.BufferOption=JSON.parse(JSON.stringify(e)),this.$nextTick((()=>{this.modelValue&&this.setValue(this.modelValue)}))},deep:!0,immediate:!0},showPicker:{handler(e){this.$nextTick((()=>{if(e&&this.modelValue)if(this.multiple){const e=this.modelValue.split(",")||[];e.map((e=>{this.BufferOption.map((t=>{var i=t;return t.value==e&&(i._checked=!0),i}))}))}else this.BufferOption.map((e=>Object.assign(e,{_checked:e.value==this.modelValue})))}))},deep:!0,immediate:!0}},methods:{showModle(){this.showPicker=!0},fieldClick(){this.disabled||(this.forbidShow||(this.showPicker=!0),this.$emit("onFieldClick"))},setfieldValue(e=""){this.fieldValue=e},reset(){this.fieldValue="",this.BufferOption.map((e=>Object.assign(e,{_checked:!1}))),this.$emit("update:modelValue","")},setValue(e=""){if(this.multiple){const t=e.split(",")||[];t.map((e=>{this.BufferOption.map((t=>{var i=t;return t.value==e&&(i._checked=!0),i}))})),this.fieldValue=this.BufferOption.filter((e=>e._checked)).map((e=>e.text)).join()}else{const t=JSON.parse(JSON.stringify(this.BufferOption)).filter((t=>t.value==e))[0]||{};this.fieldValue=t.text}},confirmHandle(){const{multiple:e}=this,t=this.BufferOption.filter((e=>1==e._checked));e?(this.fieldValue=t.map((e=>e.text)).join(),this.$emit("update:modelValue",t.map((e=>e.value)).join()||""),this.$emit("onChange",t.map((e=>e.value)).join())):(this.fieldValue=(t[0]||{}).text,this.$emit("update:modelValue",(t[0]||{}).value||""),this.$emit("onChange",(t[0]||{}).value,t[0]||{})),this.showPicker=!1},checkChange(e){const{multiple:t}=this,{_checked:i,value:s}=e;t?this.BufferOption.map((e=>Object.assign(e,{_checked:e.value==s?!i:e._checked}))):this.BufferOption.map((e=>Object.assign(e,{_checked:e.value==s&&!i})))},multipleHandle(){const e=this.BufferOption.filter((e=>e._checked)),t=e.map((e=>e.value)).join();this.showPicker=!1,this.fieldValue=e.map((e=>e.text)).join(),this.$emit("update:modelValue",t),this.$emit("onChange",e)},searchHandle(e){const t=this.valueSearch.trim(),{filterSearch:i}=this;if(i&&e){const e=this.BufferOption.map((e=>Object.assign(e,{_searchColor:!1}))),i=e.filter((e=>e.text.includes(t))).map((e=>Object.assign(e,{_searchColor:!0})));if(!i.length)return void(0,h.LJ)("不存在！");const s=e.filter((e=>!e.text.includes(t))),l=s.filter((e=>e._checked)),a=s.filter((e=>!e._checked));this.BufferOption=i.concat(l).concat(a)}else e?this.$emit("onSearchChange",t):(this.valueSearch="",this.BufferOption=this.option,this.$nextTick((()=>{this.BufferOption=this.BufferOption.map((e=>Object.assign(e,{_checked:!1})))})),this.$emit("onSearchChange",""))},selectAllHandle(){this.BufferOption.map((e=>Object.assign(e,{_checked:!0})))}},props:{modelValue:{},disabled:{type:Boolean,default:()=>!1},showSearch:{type:Boolean,default:()=>!1},forbidShow:{type:Boolean,default:()=>!1},multiple:{type:Boolean,default:()=>!1},label:{type:String,default:()=>"标题"},placeholder:{type:String,default:()=>"请选择"},placeholderSearch:{type:String,default:()=>"请输入搜索关键词"},option:{type:Array,default:()=>[]},selectAll:{type:Boolean,default:()=>!1},required:{type:Boolean,default:()=>!1},filterSearch:{type:Boolean,default:()=>!1}}},p=i(40089);const f=(0,p.Z)(m,[["render",u]]);var w=f},88575:function(e,t,i){i.d(t,{Z:function(){return P}});var s=i(73396),l=i(87139);const a={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},o=(0,s._)("span",null,"第",-1),n={style:{"padding-left":"1px","padding-right":"1px"}},r=(0,s._)("span",{style:{"margin-right":"3px"}},"页",-1),c=(0,s._)("span",null,"共",-1),d={style:{"padding-left":"1px","padding-right":"1px"}},u=(0,s._)("span",{style:{"margin-right":"3px"}},"页",-1),h=(0,s._)("span",null,"总",-1),m={style:{"padding-left":"1px","padding-right":"1px"}},p=(0,s._)("span",null,"条",-1),f={style:{position:"relative",top:"1px","margin-left":"0px"}},w={key:2,class:"text-center",style:{"padding-top":"12px"}};function g(e,t,i,g,y,_){const x=(0,s.up)("v-icon"),b=(0,s.up)("v-btn"),k=(0,s.up)("v-card");return(0,s.wg)(),(0,s.iD)("span",null,[e.paging&&i.pagingShow?((0,s.wg)(),(0,s.j4)(k,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:_.previousHandle},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{size:"28"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-left")])),_:1})])),_:1},8,["onClick"]),(0,s.Wm)(b,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:_.nextHandle},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{size:"28"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-right")])),_:1})])),_:1},8,["onClick"]),(0,s._)("span",a,[o,(0,s._)("span",n,(0,l.zw)(e.current),1),r,c,(0,s._)("span",d,(0,l.zw)(e.page),1),u,h,(0,s._)("span",m,(0,l.zw)(e.totalNum),1),p]),(0,s._)("span",f,[i.showSearchBtn?((0,s.wg)(),(0,s.j4)(b,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:_.searchClick,variant:"plain",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{size:"24",icon:"mdi-magnify"}),(0,s.Uk)(" 查询 ")])),_:1},8,["onClick"])):(0,s.kq)("",!0),(0,s.Wm)(b,{onClick:_.refreshClick,style:(0,l.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 刷新 ")])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),e.items.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(e.items,((t,i)=>(0,s.WI)(e.$slots,"tableBody",{key:i,items:t,_index:i}))),128)):((0,s.wg)(),(0,s.iD)("p",w,[(0,s.Wm)(x,{icon:"mdi-emoticon-sad-outline"}),(0,s.Uk)(" 无数据！ ")]))])}var y=i(21801),_=i(37184);var x=i(20868),b={components:{},emits:["searchClick","refresh"],data:()=>({totalNum:0,current:1,page:0,paging:!0,items:[]}),created(){const{auto:e,url:t}=this;e&&t&&this.initFunc()},methods:{previousHandle(){const{current:e}=this;1!=e?(this.current=e-1,this.$nextTick((()=>{this.initFunc(this.current)}))):(0,x.LJ)("第一页！")},nextHandle(){const{current:e,page:t}=this;e>=t?(0,x.LJ)("最后一页！"):(this.current=e+1,this.$nextTick((()=>{this.initFunc(this.current)})))},async initFunc(e=1,t){const{url:i,params:s={},children:l,method:a,formatData:o}=this;if(l)return this.items=l,void(this.paging=!1);const n=(0,y.Z)((0,y.Z)({pageNum:e,pageSize:10},s),t),{code:r,total:c=0,msg:d="",data:u,rows:h}=await(0,_.i)({method:a,url:i,payload:"post"==a?n:{},url_params:"get"==a?n:{}});200==r&&(this.totalNum=c,this.current=e,this.page=Math.ceil(c/n.pageSize),this.items=o?o(u||h||[]):u||h||[])},refreshClick(){const{refreshFunc:e}=this;!e&&this.initFunc(1),this.$emit("refresh")},searchClick(){this.$emit("searchClick")},resultData(){return this.items||[]},selectAll(){this.items=this.items.map((e=>Object.assign(e,{_checked:!0})))}},props:{method:{type:String,default:()=>"get"},refreshFunc:{type:Boolean,default:()=>!1},showSearchBtn:{type:Boolean,default:()=>!1},auto:{type:Boolean,default:()=>!0},pagingShow:{type:Boolean,default:()=>!0},children:{type:Array,default:()=>{}},url:{type:String,default:()=>""},params:{type:Object,default:()=>{}},formatData:{}}},k=i(40089);const W=(0,k.Z)(b,[["render",g]]);var P=W},93395:function(e,t,i){i.r(t),i.d(t,{default:function(){return be}});var s=i(73396),l=i(87139),a=i(49242);const o=(0,s._)("p",{class:"font-weight-medium text"},"供应商信息:",-1),n={class:"text-truncate font-weight-light"},r=(0,s._)("p",{class:"font-weight-medium text"},"产品类型:",-1),c={class:"text-truncate font-weight-light"},d=(0,s._)("p",{class:"font-weight-medium text"},"产品序列号:",-1),u={class:"text-truncate font-weight-light"},h=(0,s._)("p",{class:"font-weight-medium text"},"提报人:",-1),m={class:"text-truncate font-weight-light"},p=(0,s._)("p",{class:"font-weight-medium text"},"提报时间:",-1),f={class:"text-truncate font-weight-light"},w=(0,s._)("div",{style:{height:"16px"}},null,-1),g=(0,s._)("span",{class:"font-weight-medium"},"检验信息",-1),y=(0,s._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),_=(0,s._)("p",{class:"font-weight-medium text"},"检测类型:",-1),x={class:"text-truncate font-weight-light"},b=(0,s._)("div",{style:{height:"12px"}},null,-1),k={class:"font-weight-light"},W=(0,s._)("span",{class:"font-weight-medium text"},"检验类别: ",-1),P={style:{color:"#00E5FF"}},v=(0,s._)("p",{class:"font-weight-medium text"},"检验项目:",-1),C={class:"text-truncate font-weight-light"},L=(0,s._)("div",{style:{height:"12px"}},null,-1),V=(0,s._)("p",{class:"font-weight-medium text"},"检验人:",-1),D={class:"text-truncate font-weight-light"},S=(0,s._)("p",{class:"font-weight-medium text"},"检验时间:",-1),B={class:"text-truncate font-weight-light"},O=(0,s._)("span",{class:"font-weight-medium"},"整改信息",-1),q=(0,s._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),$=(0,s._)("p",{class:"font-weight-medium text"},"整改人:",-1),U={class:"text-truncate font-weight-light"},R=(0,s._)("p",{class:"font-weight-medium text"},"整改时间:",-1),z={class:"text-truncate font-weight-light"},F=(0,s._)("span",{class:"font-weight-medium"},"质量处理",-1),j=(0,s._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),N=(0,s._)("p",{class:"font-weight-medium text"},"是否上升:",-1),T=(0,s._)("p",{class:"font-weight-medium text"},"处理人:",-1),I={class:"text-truncate font-weight-light"},J=(0,s._)("p",{class:"font-weight-medium text"},"处理时间:",-1),H={class:"text-truncate font-weight-light"},A=(0,s._)("span",{class:"font-weight-medium"},"技术处理",-1),Q=(0,s._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),Z=(0,s._)("p",{class:"font-weight-medium text"},"是否上升:",-1),M=(0,s._)("p",{class:"font-weight-medium text"},"处理人:",-1),E={class:"text-truncate font-weight-light"},K=(0,s._)("p",{class:"font-weight-medium text"},"处理时间:",-1),X={class:"text-truncate font-weight-light"},G=(0,s._)("span",{class:"font-weight-medium"},"工艺处理",-1),Y=(0,s._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),ee=(0,s._)("p",{class:"font-weight-medium text"},"是否上升:",-1),te=(0,s._)("p",{class:"font-weight-medium text"},"处理人:",-1),ie={class:"text-truncate font-weight-light"},se=(0,s._)("p",{class:"font-weight-medium text"},"处理时间:",-1),le={class:"text-truncate font-weight-light"},ae=(0,s._)("span",{class:"font-weight-medium"},"放行信息",-1),oe=(0,s._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),ne=(0,s._)("p",{class:"font-weight-medium text"},"放行人:",-1),re={class:"text-truncate font-weight-light"},ce=(0,s._)("p",{class:"font-weight-medium text"},"放行时间:",-1),de={class:"text-truncate font-weight-light"},ue=(0,s._)("div",{style:{height:"60px"}},null,-1);function he(e,t,i,he,me,pe){const fe=(0,s.up)("AppBarPage"),we=(0,s.up)("v-col"),ge=(0,s.up)("v-row"),ye=(0,s.up)("v-sheet"),_e=(0,s.up)("v-icon"),xe=(0,s.up)("van-field"),be=(0,s.up)("SelectComponents"),ke=(0,s.up)("v-btn"),We=(0,s.up)("v-switch");return(0,s.wg)(),(0,s.iD)("span",null,[(0,s.Wm)(fe),(0,s.Wm)(ye,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge,{"no-gutters":"",class:"custem-card-title"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("p",{onClick:t[0]||(t[0]=t=>pe.GlobalTooltipFunc(`${e.bufferRow.partNo||""}-${e.bufferRow.partName||""}`)),style:{color:"#00E5FF"},class:"font-weight-light"},(0,l.zw)(e.bufferRow.partNo)+"-"+(0,l.zw)(e.bufferRow.partName),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4"},{default:(0,s.w5)((()=>[o])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",n,(0,l.zw)(e.bufferRow.supperName),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4"},{default:(0,s.w5)((()=>[r])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",c,(0,l.zw)(e.bufferRow.partType),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4"},{default:(0,s.w5)((()=>[d])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",u,(0,l.zw)(e.bufferRow.snNo),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4"},{default:(0,s.w5)((()=>[h])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",m,(0,l.zw)(e.bufferRow.productBy),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4"},{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",f,(0,l.zw)(e.bufferRow.productDate),1)])),_:1})])),_:1})])),_:1}),w,e.showLi1?((0,s.wg)(),(0,s.j4)(ye,{key:0,elevation:"2",rounded:"",class:"custem-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge,{"no-gutters":"",class:"custem-card-title"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{icon:"mdi-file-edit-outline",size:"16",color:"primary"}),g])),_:1}),(0,s.wy)((0,s.Wm)(we,{cols:"6",class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{large:"",color:"error"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-alert ")])),_:1}),y])),_:1},512),[[a.F8,e.readonlyPage||e.readonlyPage111]])])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[_])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",x,(0,l.zw)(pe.FormatDictionary("test_type",e.bufferRow.taskType)["lable"]),1)])),_:1})])),_:1}),b,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.dataList,((t,i)=>((0,s.wg)(),(0,s.iD)("div",{key:i},[(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("p",k,[W,(0,s._)("span",P,(0,l.zw)(t.inspectDetailName),1)])])),_:2},1024)])),_:2},1024),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[v])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",C,(0,l.zw)(t.inspectName),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(xe,{modelValue:t.reasonDesc,"onUpdate:modelValue":e=>t.reasonDesc=e,disabled:e.readonlyPage||e.readonlyPage111,autocomplete:"off",label:"不良描述",placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue","disabled"]),L])))),128)),(0,s.Wm)(be,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.type=t),ref:"select33",label:"不良类别",required:"",disabled:e.readonlyPage||e.readonlyPage111,option:e.typeSelectOption},null,8,["modelValue","disabled","option"]),(0,s.Wm)(xe,{modelValue:e.opinion2,"onUpdate:modelValue":t[2]||(t[2]=t=>e.opinion2=t),disabled:e.readonlyPage||e.readonlyPage111,required:"",autocomplete:"off",label:"问题描述",placeholder:"请输入"},null,8,["modelValue","disabled"]),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[V])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",D,(0,l.zw)(e.bufferRow.productBy),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[S])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",B,(0,l.zw)(e.bufferRow.productDate),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12",style:{"text-align":"right"}},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(ke,{block:"",color:"warning",disabled:e.readonlyPage||e.readonlyPage111,onClick:pe.submitMessage},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["disabled","onClick"]),[[a.F8,pe.ControlBtnPermission("iiot:*:productFrom")]])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),e.showLi2?((0,s.wg)(),(0,s.j4)(ye,{key:1,elevation:"2",rounded:"",class:"custem-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge,{"no-gutters":"",class:"custem-card-title"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{icon:"mdi-file-edit-outline",size:"16",color:"primary"}),O])),_:1}),(0,s.wy)((0,s.Wm)(we,{cols:"6",class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{large:"",color:"error"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-alert ")])),_:1}),q])),_:1},512),[[a.F8,e.readonlyPage||e.readonlyPage222]])])),_:1}),(0,s.Wm)(be,{modelValue:e.department,"onUpdate:modelValue":t[3]||(t[3]=t=>e.department=t),ref:"select99",label:"处理部门",disabled:e.readonlyPage||e.readonlyPage222,option:e.departmentSelectOption},null,8,["modelValue","disabled","option"]),(0,s.Wm)(xe,{modelValue:e.opinion3,"onUpdate:modelValue":t[4]||(t[4]=t=>e.opinion3=t),disabled:e.readonlyPage||e.readonlyPage222,required:"",autocomplete:"off",label:"整改结果",placeholder:"请输入"},null,8,["modelValue","disabled"]),(0,s.Wm)(xe,{modelValue:e.opinion4,"onUpdate:modelValue":t[5]||(t[5]=t=>e.opinion4=t),disabled:e.readonlyPage||e.readonlyPage222,required:"",autocomplete:"off",label:"处理措施",placeholder:"请输入"},null,8,["modelValue","disabled"]),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[$])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",U,(0,l.zw)(e.bufferRow.repairBy),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[R])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",z,(0,l.zw)(e.bufferRow.repairDate),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12",style:{"text-align":"right"}},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(ke,{color:"warning",block:"",disabled:e.readonlyPage||e.readonlyPage222,onClick:pe.submitRemould},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["disabled","onClick"]),[[a.F8,pe.ControlBtnPermission("iiot:*:repairFrom")]])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),e.showLi3?((0,s.wg)(),(0,s.j4)(ye,{key:2,elevation:"2",rounded:"",class:"custem-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge,{"no-gutters":"",class:"custem-card-title"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{icon:"mdi-quality-high",size:"16",color:"primary"}),F])),_:1}),(0,s.wy)((0,s.Wm)(we,{cols:"6",class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{large:"",color:"error"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-alert ")])),_:1}),j])),_:1},512),[[a.F8,e.readonlyPage||e.readonlyPage333]])])),_:1}),(0,s.Wm)(ge,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{position:"relative",top:"13px",left:"14px"}},{default:(0,s.w5)((()=>[N])),_:1}),(0,s.Wm)(we,{cols:"8",style:{"text-align":"left"}},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:e.switch111,"onUpdate:modelValue":t[6]||(t[6]=t=>e.switch111=t),label:e.switch111?"是":"否",color:"primary",disabled:e.readonlyPage||e.readonlyPage333,density:"comfortable",style:{height:"42px"}},null,8,["modelValue","label","disabled"])])),_:1})])),_:1}),e.switch111?((0,s.wg)(),(0,s.j4)(be,{key:0,modelValue:e.conductor1,"onUpdate:modelValue":t[7]||(t[7]=t=>e.conductor1=t),ref:"select777",label:"放行人",showSearch:"",required:"",disabled:e.readonlyPage||e.readonlyPage333,option:e.conductorSelectOption1,onOnSearchChange:pe.conductorSearchChange1},null,8,["modelValue","disabled","option","onOnSearchChange"])):(0,s.kq)("",!0),(0,s.Wm)(xe,{modelValue:e.opinion7,"onUpdate:modelValue":t[8]||(t[8]=t=>e.opinion7=t),disabled:e.readonlyPage||e.readonlyPage333,required:"",autocomplete:"off",label:"处理意见",placeholder:"请输入"},null,8,["modelValue","disabled"]),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[T])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",I,(0,l.zw)(e.bufferRow.qualityEngineerBy),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[J])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",H,(0,l.zw)(e.bufferRow.qualityEngineerTime),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12",style:{"text-align":"right"}},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(ke,{color:"warning",block:"",disabled:e.readonlyPage||e.readonlyPage333,onClick:pe.submitDepartmentQuality},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["disabled","onClick"]),[[a.F8,pe.ControlBtnPermission("iiot:*:qualityEngineerCommit")]])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),e.showLi4?((0,s.wg)(),(0,s.j4)(ye,{key:3,elevation:"2",rounded:"",class:"custem-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge,{"no-gutters":"",class:"custem-card-title"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{icon:"mdi-wrench-clock",size:"16",color:"primary"}),A])),_:1}),(0,s.wy)((0,s.Wm)(we,{cols:"6",class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{large:"",color:"error"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-alert ")])),_:1}),Q])),_:1},512),[[a.F8,e.readonlyPage||e.readonlyPage333]])])),_:1}),(0,s.Wm)(ge,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{position:"relative",top:"13px",left:"14px"}},{default:(0,s.w5)((()=>[Z])),_:1}),(0,s.Wm)(we,{cols:"8",style:{"text-align":"left"}},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:e.switch333,"onUpdate:modelValue":t[9]||(t[9]=t=>e.switch333=t),label:e.switch333?"是":"否",color:"primary",density:"comfortable",disabled:e.readonlyPage||e.readonlyPage333,style:{height:"42px"}},null,8,["modelValue","label","disabled"])])),_:1})])),_:1}),e.switch333?((0,s.wg)(),(0,s.j4)(be,{key:0,modelValue:e.conductor3,"onUpdate:modelValue":t[10]||(t[10]=t=>e.conductor3=t),ref:"select999",label:"放行人",showSearch:"",disabled:e.readonlyPage||e.readonlyPage333,required:"",option:e.conductorSelectOption3,onOnSearchChange:pe.conductorSearchChange3},null,8,["modelValue","disabled","option","onOnSearchChange"])):(0,s.kq)("",!0),(0,s.Wm)(xe,{modelValue:e.opinion8,"onUpdate:modelValue":t[11]||(t[11]=t=>e.opinion8=t),disabled:e.readonlyPage||e.readonlyPage333,required:"",autocomplete:"off",label:"处理意见",placeholder:"请输入"},null,8,["modelValue","disabled"]),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[M])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",E,(0,l.zw)(e.bufferRow.technologyBy),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[K])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",X,(0,l.zw)(e.bufferRow.technologyTime),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12",style:{"text-align":"right"}},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(ke,{color:"warning",block:"",disabled:e.readonlyPage||e.readonlyPage333,onClick:pe.submitDepartmentTechnology},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["disabled","onClick"]),[[a.F8,pe.ControlBtnPermission("iiot:*:technologyCommit")]])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),e.showLi5?((0,s.wg)(),(0,s.j4)(ye,{key:4,elevation:"2",rounded:"",class:"custem-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge,{"no-gutters":"",class:"custem-card-title"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{icon:"mdi-minecraft",size:"16",color:"primary"}),G])),_:1}),(0,s.wy)((0,s.Wm)(we,{cols:"6",class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{large:"",color:"error"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-alert ")])),_:1}),Y])),_:1},512),[[a.F8,e.readonlyPage||e.readonlyPage333]])])),_:1}),(0,s.Wm)(ge,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{position:"relative",top:"13px",left:"14px"}},{default:(0,s.w5)((()=>[ee])),_:1}),(0,s.Wm)(we,{cols:"8",style:{"text-align":"left"}},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:e.switch222,"onUpdate:modelValue":t[12]||(t[12]=t=>e.switch222=t),label:e.switch222?"是":"否",color:"primary",density:"comfortable",disabled:e.readonlyPage||e.readonlyPage333,style:{height:"42px"}},null,8,["modelValue","label","disabled"])])),_:1})])),_:1}),e.switch222?((0,s.wg)(),(0,s.j4)(be,{key:0,modelValue:e.conductor2,"onUpdate:modelValue":t[13]||(t[13]=t=>e.conductor2=t),ref:"select888",label:"放行人",showSearch:"",required:"",disabled:e.readonlyPage||e.readonlyPage333,option:e.conductorSelectOption2,onOnSearchChange:pe.conductorSearchChange2},null,8,["modelValue","disabled","option","onOnSearchChange"])):(0,s.kq)("",!0),(0,s.Wm)(xe,{modelValue:e.opinion9,"onUpdate:modelValue":t[14]||(t[14]=t=>e.opinion9=t),disabled:e.readonlyPage||e.readonlyPage333,required:"",autocomplete:"off",label:"处理意见",placeholder:"请输入"},null,8,["modelValue","disabled"]),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[te])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",ie,(0,l.zw)(e.bufferRow.technologicalBy),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[se])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",le,(0,l.zw)(e.bufferRow.technologicalTime),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12",style:{"text-align":"right"}},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(ke,{color:"warning",block:"",disabled:e.readonlyPage||e.readonlyPage333,onClick:pe.submitDepartmentCraft},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["disabled","onClick"]),[[a.F8,pe.ControlBtnPermission("iiot:*:technologicalCommit")]])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),e.showLi6?((0,s.wg)(),(0,s.j4)(ye,{key:5,elevation:"2",rounded:"",class:"custem-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(ge,{"no-gutters":"",class:"custem-card-title"},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{icon:"mdi-file-edit-outline",size:"16",color:"primary"}),ae])),_:1}),(0,s.wy)((0,s.Wm)(we,{cols:"6",class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(_e,{large:"",color:"error"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-alert ")])),_:1}),oe])),_:1},512),[[a.F8,e.readonlyPage]])])),_:1}),(0,s.Wm)(xe,{modelValue:e.opinion5,"onUpdate:modelValue":t[15]||(t[15]=t=>e.opinion5=t),disabled:e.readonlyPage,required:"",autocomplete:"off",label:"放行说明",placeholder:"请输入"},null,8,["modelValue","disabled"]),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[ne])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",re,(0,l.zw)(e.bufferRow.releaseBy),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"4",style:{"padding-left":"5px"}},{default:(0,s.w5)((()=>[ce])),_:1}),(0,s.Wm)(we,{cols:"8"},{default:(0,s.w5)((()=>[(0,s._)("p",de,(0,l.zw)(e.bufferRow.releaseTime),1)])),_:1})])),_:1}),(0,s.Wm)(ge,{"no-gutters":"",class:"text",style:{"text-align":"right"}},{default:(0,s.w5)((()=>[(0,s.Wm)(we,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(ke,{block:"",color:"warning",disabled:e.readonlyPage,onClick:pe.submitThrough},{default:(0,s.w5)((()=>[(0,s.Uk)(" 确定 ")])),_:1},8,["disabled","onClick"]),[[a.F8,pe.ControlBtnPermission("iiot:*:releaseFrom")]])])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),ue])}i(73210),i(57658);var me=i(76496),pe=i(88575),fe=i(2243),we=i(37184),ge=i(20868),ye={components:{AppBarPage:me.Z,SelectComponents:fe.Z,TableComponents:pe.Z},data:()=>({bufferRow:{},dataList:[],type:"",typeSelectOption:[],department:"",departmentSelectOption:[],switch111:!1,switch222:!1,switch333:!1,conductor1:"",conductorSelectOption1:[],conductor2:"",conductorSelectOption2:[],conductor3:"",conductorSelectOption3:[],opinion1:"",opinion2:"",opinion3:"",opinion4:"",opinion5:"",opinion7:"",opinion8:"",opinion9:"",showLi1:!1,showLi2:!1,showLi3:!1,showLi4:!1,showLi5:!1,showLi6:!1,readonlyPage:!0,readonlyPage111:!1,readonlyPage222:!1,readonlyPage333:!1}),watch:{switch111(e){this.conductor1="",this.$nextTick((()=>{this.$refs.select777&&this.$refs.select777.reset()}))},switch222(e){this.conductor2="",this.$nextTick((()=>{this.$refs.select888&&this.$refs.select888.reset()}))},switch333(e){this.conductor3="",this.$nextTick((()=>{this.$refs.select999&&this.$refs.select999.reset()}))}},created(){this.initFunc(),this.typeHTTP(),this.initRepairman1(),this.initRepairman2(),this.initRepairman3()},methods:{GlobalTooltipFunc(e=""){(0,ge.CF)({message:e,overlay:!0,closeOnClickOverlay:!0,duration:0})},FormatDictionary(e="",t=""){const i=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),s=i[e]||[],l=s.filter((e=>t==e.value))[0]||{};return l},async initRepairman1(e=""){const{code:t,data:i=[]}=await(0,we.i)({url:"/system/user/list",method:"get",url_params:{userKey:e}});200==t&&(this.conductorSelectOption1=i.map((e=>Object.assign({text:`${e.userName}-${e.nickName}`,value:e.userName}))))},conductorSearchChange1(e){this.initRepairman1(e)},async initRepairman2(e=""){const{code:t,data:i=[]}=await(0,we.i)({url:"/system/user/list",method:"get",url_params:{userKey:e}});200==t&&(this.conductorSelectOption2=i.map((e=>Object.assign({text:`${e.userName}-${e.nickName}`,value:e.userName}))))},conductorSearchChange2(e){this.initRepairman2(e)},async initRepairman3(e=""){const{code:t,data:i=[]}=await(0,we.i)({url:"/system/user/list",method:"get",url_params:{userKey:e}});200==t&&(this.conductorSelectOption3=i.map((e=>Object.assign({text:`${e.userName}-${e.nickName}`,value:e.userName}))))},conductorSearchChange3(e){this.initRepairman3(e)},ControlBtnPermission(e=""){const t="/processDisqualification/index",i=JSON.parse(localStorage.getItem("bufferGlobalBtnPermission")||{});(i[t]||[]).filter((t=>t.perms==e)).length;return!0},async initFunc(){const{ttQmDefectId:e}=this.$route.query,t=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),i=t["qm_process_dept"]||[];this.departmentSelectOption=i.map((e=>Object.assign({text:e.lable,value:e.value})));const{code:s,data:l={}}=await(0,we.i)({url:`/iiot/qmDefect/${e}`,method:"get"});if(200==s){switch(this.bufferRow=l,l.defectStatus){case"10":this.showLi1=!0,this.showLi2=!1,this.showLi3=!1,this.showLi4=!1,this.showLi5=!1,this.showLi6=!1,this.readonlyPage=!1;break;case"20":this.showLi1=!0,this.showLi2=!0,this.showLi3=!1,this.showLi4=!1,this.showLi5=!1,this.showLi6=!1,this.readonlyPage=!1,this.readonlyPage111=!0;break;case"30":this.readonlyPage111=!0,this.readonlyPage222=!0,"1"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!0,this.showLi4=!1,this.showLi5=!1,this.showLi6=!1,this.readonlyPage=!1),"2"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!1,this.showLi4=!0,this.showLi5=!1,this.showLi6=!1,this.readonlyPage=!1),"3"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!1,this.showLi4=!1,this.showLi5=!0,this.showLi6=!1,this.readonlyPage=!1);break;case"40":this.readonlyPage111=!0,this.readonlyPage222=!0,this.readonlyPage333=!0,"1"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!0,this.showLi4=!1,this.showLi5=!1,this.showLi6=!0,this.readonlyPage=!1),"2"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!1,this.showLi4=!0,this.showLi5=!1,this.showLi6=!0,this.readonlyPage=!1),"3"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!1,this.showLi4=!1,this.showLi5=!0,this.showLi6=!0,this.readonlyPage=!1);break;case"90":"1"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!0,this.showLi4=!1,this.showLi5=!1,this.showLi6=!0,this.readonlyPage=!0),"2"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!1,this.showLi4=!0,this.showLi5=!1,this.showLi6=!0,this.readonlyPage=!0),"3"==l.issueProcessDept&&(this.showLi1=!0,this.showLi2=!0,this.showLi3=!1,this.showLi4=!1,this.showLi5=!0,this.showLi6=!0,this.readonlyPage=!0);break;default:break}this.opinion5=l.releaseMeasures||"",this.opinion3=l.repairResult||"",this.opinion4=l.repairMeasures||"",this.opinion2=l.scrapReason||"",this.opinion7=l.qualityEngineerD||"",this.opinion8=l.technologyD||"",this.opinion9=l.technologicalD||"",this.switch111="1"==l.isUpgrade,this.switch222="1"==l.isUpgrade,this.switch333="1"==l.isUpgrade,this.$nextTick((()=>{setTimeout((()=>{this.conductor1=l.upgradeProcessBy,this.conductor2=l.upgradeProcessBy,this.conductor3=l.upgradeProcessBy,this.$refs.select777&&this.$refs.select777.setValue(l.upgradeProcessBy),this.$refs.select888&&this.$refs.select888.setValue(l.upgradeProcessBy),this.$refs.select999&&this.$refs.select999.setValue(l.upgradeProcessBy)}),1e3)})),this.department=l.issueProcessDept,setTimeout((()=>{this.$refs.select99&&this.$refs.select99.setValue(l.issueProcessDept)}),1e3)}const a=await(0,we.i)({url:"/iiot/qmDefectDetail/list",method:"get",url_params:{ttQmDefectId:e}});200==s&&(this.dataList=a.data||[])},async typeHTTP(){const{code:e,data:t=[]}=await(0,we.i)({url:"/iiot/reason/list",method:"post",payload:{reasonNo:"",params:{reasonTypeList:["MS","F"]}}});200==e&&(this.typeSelectOption=t.map((e=>Object.assign({text:e.reasonNo+"-"+e.reasonName,value:e.tmBasReasonId}))),setTimeout((()=>{this.$refs.select33&&this.$refs.select33.setValue(this.bufferRow.tmBasReasonId)}),600))},async submitMessage(){const{bufferRow:e}=this;if(!this.type)return void(0,ge.LJ)("不良类别必填！");if(!this.opinion2.trim())return void(0,ge.LJ)("问题描述必填！");const t={tmBasReasonId:this.type,scrapReason:this.opinion2,dataList:this.dataList,ttQmDefectId:e.ttQmDefectId},{code:i,data:s={}}=await(0,we.i)({url:"/iiot/qmDefect/productDefect",method:"post",payload:t});200==i&&((0,ge.XA)("提交成功！"),this.$router.push({path:"/processDisqualification/index",query:{}}))},async submitRemould(){const{bufferRow:e}=this;if(!this.opinion3.trim())return void(0,ge.LJ)("整改结果必填！");if(!this.opinion4.trim())return void(0,ge.LJ)("处理措施必填！");const t={issueProcessDept:this.department,repairResult:this.opinion3,repairMeasures:this.opinion4,ttQmDefectId:e.ttQmDefectId},{code:i,data:s={}}=await(0,we.i)({url:"/iiot/qmDefect/repairDefect",method:"post",payload:t});200==i&&((0,ge.XA)("提交成功！"),this.$router.push({path:"/processDisqualification/index",query:{}}))},async submitDepartmentQuality(){const{bufferRow:e}=this;if(!this.opinion7.trim())return void(0,ge.LJ)("处理意见必填！");if(this.switch111&&!this.conductor1)return void(0,ge.LJ)("放行人必选！");const t={qualityEngineerD:this.opinion7,ttQmDefectId:e.ttQmDefectId,isUpgrade:this.switch111?"1":"0",upgradeProcessBy:this.conductor1},{code:i,data:s={}}=await(0,we.i)({url:"/iiot/qmDefect/qualityEngineerCommit",method:"post",payload:t});200==i&&((0,ge.XA)("提交成功！"),this.$router.push({path:"/processDisqualification/index",query:{}}))},async submitDepartmentTechnology(){const{bufferRow:e}=this;if(!this.opinion8.trim())return void(0,ge.LJ)("处理意见必填！");if(this.switch333&&!this.conductor3)return void(0,ge.LJ)("放行人必选！");const t={technologyD:this.opinion8,ttQmDefectId:e.ttQmDefectId,isUpgrade:this.switch333?"1":"0",upgradeProcessBy:this.conductor3},{code:i,data:s={}}=await(0,we.i)({url:"/iiot/qmDefect/technologyCommit",method:"post",payload:t});200==i&&((0,ge.XA)("提交成功！"),this.$router.push({path:"/processDisqualification/index",query:{}}))},async submitDepartmentCraft(){const{bufferRow:e}=this;if(!this.opinion9.trim())return void(0,ge.LJ)("处理意见必填！");if(this.switch222&&!this.conductor2)return void(0,ge.LJ)("放行人必选！");const t={technologicalD:this.opinion9,ttQmDefectId:e.ttQmDefectId,isUpgrade:this.switch222?"1":"0",upgradeProcessBy:this.conductor2},{code:i,data:s={}}=await(0,we.i)({url:"/iiot/qmDefect/technologicalCommit",method:"post",payload:t});200==i&&((0,ge.XA)("提交成功！"),this.$router.push({path:"/processDisqualification/index",query:{}}))},async submitThrough(){const{bufferRow:e}=this;if(!this.opinion5.trim())return void(0,ge.LJ)("放行说明必填！");const t={releaseMeasures:this.opinion5,ttQmDefectId:e.ttQmDefectId},{code:i,data:s={}}=await(0,we.i)({url:"/iiot/qmDefect/releaseDefect",method:"post",payload:t});200==i&&((0,ge.XA)("提交成功！"),this.$router.push({path:"/processDisqualification/index",query:{}}))}}},_e=i(40089);const xe=(0,_e.Z)(ye,[["render",he]]);var be=xe}}]);
//# sourceMappingURL=chunk.3395.1689577235749.js.map