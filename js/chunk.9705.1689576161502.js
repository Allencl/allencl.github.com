"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[9705],{2243:function(e,t,i){i.d(t,{Z:function(){return g}});var l=i(73396),a=i(87139);const s={style:{height:"98%","padding-bottom":"40px"}},n={style:{height:"100%"}},o={style:{position:"relative",top:"4px"}},r=["onClick"],c={class:"text-truncate",style:{height:"24px"}},u={key:2,class:"text-center",style:{"margin-top":"16px"}};function d(e,t,i,d,p,h){const m=(0,l.up)("van-field"),f=(0,l.up)("v-col"),g=(0,l.up)("v-btn"),w=(0,l.up)("v-row"),k=(0,l.up)("van-search"),_=(0,l.up)("van-checkbox"),x=(0,l.up)("van-popup");return(0,l.wg)(),(0,l.iD)("span",null,[(0,l.Wm)(m,{modelValue:e.fieldValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fieldValue=t),"is-link":"",readonly:"",required:i.required,label:i.label,placeholder:i.placeholder,autocomplete:"off",type:i.multiple?"textarea":"text",onClick:h.fieldClick},null,8,["modelValue","required","label","placeholder","type","onClick"]),(0,l.Wm)(x,{show:e.showPicker,"onUpdate:show":t[5]||(t[5]=t=>e.showPicker=t),style:{padding:"12px 12px 4px 12px",height:"60%",width:"90%"},round:""},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",n,[(0,l.Wm)(w,{"no-gutters":"",style:{"font-weight":"bold","border-bottom":"1px solid #ccc","padding-bottom":"5px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{cols:"6"},{default:(0,l.w5)((()=>[(0,l._)("p",null,(0,a.zw)(i.label)+"-选择框",1)])),_:1}),(0,l.Wm)(f,{cols:"6",class:"text-right"},{default:(0,l.w5)((()=>[(0,l._)("span",o,(0,a.zw)(e.BufferOption.filter((e=>e._checked)).length),1),i.selectAll?((0,l.wg)(),(0,l.j4)(g,{key:0,onClick:h.selectAllHandle,color:"primary mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,l.w5)((()=>[(0,l.Uk)("全选")])),_:1},8,["onClick"])):(0,l.kq)("",!0)])),_:1})])),_:1}),i.showSearch?((0,l.wg)(),(0,l.j4)(w,{key:0,"no-gutters":""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{cols:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{modelValue:e.valueSearch,"onUpdate:modelValue":t[1]||(t[1]=t=>e.valueSearch=t),shape:"",placeholder:i.placeholderSearch,style:{"padding-left":"0px"},clearable:!1},null,8,["modelValue","placeholder"])])),_:1}),(0,l.Wm)(f,{cols:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{onClick:t[2]||(t[2]=e=>h.searchHandle(!0)),variant:"plain",color:"primary",block:"",style:{"margin-top":"8px"}},{default:(0,l.w5)((()=>[(0,l.Uk)(" 查询 ")])),_:1})])),_:1}),(0,l.Wm)(f,{cols:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{onClick:t[3]||(t[3]=e=>h.searchHandle(!1)),variant:"plain",block:"",style:{"margin-top":"8px"}},{default:(0,l.w5)((()=>[(0,l.Uk)(" 重置 ")])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),e.BufferOption.length?((0,l.wg)(),(0,l.iD)("ul",{key:1,style:(0,a.j5)(`height: ${i.showSearch?"73%":"90%"};overflow-y:auto;padding-right:12px;padding-bottom: 20px;`)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.BufferOption,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t,style:(0,a.j5)(`padding: 6px 22px 6px 6px;position:relative;color:${e._searchColor?"#FF9800":"#000"};`),onClick:t=>h.checkChange(e)},[(0,l._)("p",c,(0,a.zw)(e.text),1),(0,l.Wm)(_,{style:{position:"absolute",top:"8px",right:"0px"},modelValue:e._checked,"onUpdate:modelValue":t=>e._checked=t,shape:"square","checked-color":"#4CAF50",disabled:"",class:"custem-select-checkbox"},null,8,["modelValue","onUpdate:modelValue"])],12,r)))),128))],4)):((0,l.wg)(),(0,l.iD)("p",u,"无数据!"))]),(0,l.Wm)(w,{"no-gutters":""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{cols:"6",class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{variant:"plain",block:"",onClick:t[4]||(t[4]=()=>e.showPicker=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" 取消 ")])),_:1})])),_:1}),(0,l.Wm)(f,{cols:"6",class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{variant:"plain",color:"primary",block:"",onClick:h.confirmHandle},{default:(0,l.w5)((()=>[(0,l.Uk)(" 确定 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1},8,["show"])])}i(38862),i(73210),i(26699),i(32023);var p=i(20868),h={components:{},emits:["update:modelValue","onChange","onFieldClick","onSearchChange"],data:()=>({BufferOption:[],selectedValues:[],columns:[],fieldValue:"",showPicker:!1,valueSearch:""}),watch:{option:{handler(e=[]){this.BufferOption=JSON.parse(JSON.stringify(e)),this.$nextTick((()=>{this.modelValue&&this.setValue(this.modelValue)}))},deep:!0,immediate:!0},showPicker:{handler(e){this.$nextTick((()=>{if(e&&this.modelValue)if(this.multiple){const e=this.modelValue.split(",")||[];e.map((e=>{this.BufferOption.map((t=>{var i=t;return t.value==e&&(i._checked=!0),i}))}))}else this.BufferOption.map((e=>Object.assign(e,{_checked:e.value==this.modelValue})))}))},deep:!0,immediate:!0}},methods:{showModle(){this.showPicker=!0},fieldClick(){this.disabled||(this.forbidShow||(this.showPicker=!0),this.$emit("onFieldClick"))},setfieldValue(e=""){this.fieldValue=e},reset(){this.fieldValue="",this.BufferOption.map((e=>Object.assign(e,{_checked:!1}))),this.$emit("update:modelValue","")},setValue(e=""){if(this.multiple){const t=e.split(",")||[];t.map((e=>{this.BufferOption.map((t=>{var i=t;return t.value==e&&(i._checked=!0),i}))})),this.fieldValue=this.BufferOption.filter((e=>e._checked)).map((e=>e.text)).join()}else{const t=JSON.parse(JSON.stringify(this.BufferOption)).filter((t=>t.value==e))[0]||{};this.fieldValue=t.text}},confirmHandle(){const{multiple:e}=this,t=this.BufferOption.filter((e=>1==e._checked));e?(this.fieldValue=t.map((e=>e.text)).join(),this.$emit("update:modelValue",t.map((e=>e.value)).join()||""),this.$emit("onChange",t.map((e=>e.value)).join())):(this.fieldValue=(t[0]||{}).text,this.$emit("update:modelValue",(t[0]||{}).value||""),this.$emit("onChange",(t[0]||{}).value,t[0]||{})),this.showPicker=!1},checkChange(e){const{multiple:t}=this,{_checked:i,value:l}=e;t?this.BufferOption.map((e=>Object.assign(e,{_checked:e.value==l?!i:e._checked}))):this.BufferOption.map((e=>Object.assign(e,{_checked:e.value==l&&!i})))},multipleHandle(){const e=this.BufferOption.filter((e=>e._checked)),t=e.map((e=>e.value)).join();this.showPicker=!1,this.fieldValue=e.map((e=>e.text)).join(),this.$emit("update:modelValue",t),this.$emit("onChange",e)},searchHandle(e){const t=this.valueSearch.trim(),{filterSearch:i}=this;if(i&&e){const e=this.BufferOption.map((e=>Object.assign(e,{_searchColor:!1}))),i=e.filter((e=>e.text.includes(t))).map((e=>Object.assign(e,{_searchColor:!0})));if(!i.length)return void(0,p.LJ)("不存在！");const l=e.filter((e=>!e.text.includes(t))),a=l.filter((e=>e._checked)),s=l.filter((e=>!e._checked));this.BufferOption=i.concat(a).concat(s)}else e?this.$emit("onSearchChange",t):(this.valueSearch="",this.BufferOption=this.option,this.$nextTick((()=>{this.BufferOption=this.BufferOption.map((e=>Object.assign(e,{_checked:!1})))})),this.$emit("onSearchChange",""))},selectAllHandle(){this.BufferOption.map((e=>Object.assign(e,{_checked:!0})))}},props:{modelValue:{},disabled:{type:Boolean,default:()=>!1},showSearch:{type:Boolean,default:()=>!1},forbidShow:{type:Boolean,default:()=>!1},multiple:{type:Boolean,default:()=>!1},label:{type:String,default:()=>"标题"},placeholder:{type:String,default:()=>"请选择"},placeholderSearch:{type:String,default:()=>"请输入搜索关键词"},option:{type:Array,default:()=>[]},selectAll:{type:Boolean,default:()=>!1},required:{type:Boolean,default:()=>!1},filterSearch:{type:Boolean,default:()=>!1}}},m=i(40089);const f=(0,m.Z)(h,[["render",d]]);var g=f},88575:function(e,t,i){i.d(t,{Z:function(){return S}});var l=i(73396),a=i(87139);const s={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},n=(0,l._)("span",null,"第",-1),o={style:{"padding-left":"1px","padding-right":"1px"}},r=(0,l._)("span",{style:{"margin-right":"3px"}},"页",-1),c=(0,l._)("span",null,"共",-1),u={style:{"padding-left":"1px","padding-right":"1px"}},d=(0,l._)("span",{style:{"margin-right":"3px"}},"页",-1),p=(0,l._)("span",null,"总",-1),h={style:{"padding-left":"1px","padding-right":"1px"}},m=(0,l._)("span",null,"条",-1),f={style:{position:"relative",top:"1px","margin-left":"0px"}},g={key:2,class:"text-center",style:{"padding-top":"12px"}};function w(e,t,i,w,k,_){const x=(0,l.up)("v-icon"),y=(0,l.up)("v-btn"),v=(0,l.up)("v-card");return(0,l.wg)(),(0,l.iD)("span",null,[e.paging&&i.pagingShow?((0,l.wg)(),(0,l.j4)(v,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:_.previousHandle},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{size:"28"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-chevron-left")])),_:1})])),_:1},8,["onClick"]),(0,l.Wm)(y,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:_.nextHandle},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{size:"28"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-chevron-right")])),_:1})])),_:1},8,["onClick"]),(0,l._)("span",s,[n,(0,l._)("span",o,(0,a.zw)(e.current),1),r,c,(0,l._)("span",u,(0,a.zw)(e.page),1),d,p,(0,l._)("span",h,(0,a.zw)(e.totalNum),1),m]),(0,l._)("span",f,[i.showSearchBtn?((0,l.wg)(),(0,l.j4)(y,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:_.searchClick,variant:"plain",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{size:"24",icon:"mdi-magnify"}),(0,l.Uk)(" 查询 ")])),_:1},8,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(y,{onClick:_.refreshClick,style:(0,a.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 刷新 ")])),_:1},8,["onClick"])])])),_:1})):(0,l.kq)("",!0),e.items.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(e.items,((t,i)=>(0,l.WI)(e.$slots,"tableBody",{key:i,items:t,_index:i}))),128)):((0,l.wg)(),(0,l.iD)("p",g,[(0,l.Wm)(x,{icon:"mdi-emoticon-sad-outline"}),(0,l.Uk)(" 无数据！ ")]))])}var k=i(21801),_=i(37184);var x=i(20868),y={components:{},emits:["searchClick","refresh"],data:()=>({totalNum:0,current:1,page:0,paging:!0,items:[]}),created(){const{auto:e,url:t}=this;e&&t&&this.initFunc()},methods:{previousHandle(){const{current:e}=this;1!=e?(this.current=e-1,this.$nextTick((()=>{this.initFunc(this.current)}))):(0,x.LJ)("第一页！")},nextHandle(){const{current:e,page:t}=this;e>=t?(0,x.LJ)("最后一页！"):(this.current=e+1,this.$nextTick((()=>{this.initFunc(this.current)})))},async initFunc(e=1,t){const{url:i,params:l={},children:a,method:s,formatData:n}=this;if(a)return this.items=a,void(this.paging=!1);const o=(0,k.Z)((0,k.Z)({pageNum:e,pageSize:10},l),t),{code:r,total:c=0,msg:u="",data:d,rows:p}=await(0,_.i)({method:s,url:i,payload:"post"==s?o:{},url_params:"get"==s?o:{}});200==r&&(this.totalNum=c,this.current=e,this.page=Math.ceil(c/o.pageSize),this.items=n?n(d||p||[]):d||p||[])},refreshClick(){const{refreshFunc:e}=this;!e&&this.initFunc(1),this.$emit("refresh")},searchClick(){this.$emit("searchClick")},resultData(){return this.items||[]},selectAll(){this.items=this.items.map((e=>Object.assign(e,{_checked:!0})))}},props:{method:{type:String,default:()=>"get"},refreshFunc:{type:Boolean,default:()=>!1},showSearchBtn:{type:Boolean,default:()=>!1},auto:{type:Boolean,default:()=>!0},pagingShow:{type:Boolean,default:()=>!0},children:{type:Array,default:()=>{}},url:{type:String,default:()=>""},params:{type:Object,default:()=>{}},formatData:{}}},v=i(40089);const C=(0,v.Z)(y,[["render",w]]);var S=C},57265:function(e,t,i){i.d(t,{Z:function(){return g}});var l=i(73396);const a={style:{padding:"0px 12px 0px 12px"}},s={key:0,class:"font-weight-medium text",style:{"margin-bottom":"8px"}},n={key:1,style:{"margin-bottom":"8px"},class:"font-weight-medium text"},o={class:"custem-iamge-upload"},r=["src"];function c(e,t,i,c,u,d){const p=(0,l.up)("van-uploader"),h=(0,l.up)("v-icon");return(0,l.wg)(),(0,l.iD)("span",null,[(0,l._)("div",a,[i.preview?((0,l.wg)(),(0,l.iD)("p",s,"图片预览 ")):((0,l.wg)(),(0,l.iD)("p",n," 图片上传 ")),i.preview?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(p,{key:2,"after-read":d.afterRead,"preview-image":!1},null,8,["after-read"])),(0,l._)("div",o,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.bufferFileList,((a,s)=>((0,l.wg)(),(0,l.iD)("li",{key:s,onClick:t[0]||(t[0]=t=>d.checkImage(e.bufferFileList))},[(0,l._)("img",{src:a.url},null,8,r),i.preview?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(h,{key:0,onClick:e=>d.removeClick(a,e),class:"icon",icon:"mdi-close-circle-outline",color:"red"},null,8,["onClick"]))])))),128))])])])}i(26699),i(32023),i(38862);var u=i(37184),d=i(20868),p=i(9801),h={components:{},emits:["update:modelValue","onChange"],data:()=>({bufferFileList:[]}),watch:{modelValue:{handler(e=[]){this.bufferFileList=e},deep:!0,immediate:!0},initPath:{handler(e=""){e&&(this.bufferFileList=e.split(",").map((e=>Object.assign({url:e}))))},deep:!0,immediate:!0}},methods:{checkImage(e=[]){e.length&&(0,p.V)(e.map((e=>e.url)))},async afterRead(e){if(!e.file.type.includes("image"))return void(0,d.LJ)("只能选择图片！");if(e.file.size>=19922944)return void(0,d.LJ)("图片超过20M！");if(this.bufferFileList.length>2)return void(0,d.LJ)("最多只能选择3张图片！");let t=new FormData;t.append("file",e.file);const{code:i,data:l={}}=await(0,u.i)({url:"/file/upload",method:"post",formData:!0,payload:t});200==i?(this.bufferFileList=this.bufferFileList.concat([l]),(0,d.XA)("图片上传成功！"),this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.bufferFileList)))):(0,d.LJ)("图片上传失败！")},removeClick(e,t){t.stopPropagation(),this.bufferFileList=JSON.parse(JSON.stringify(this.bufferFileList)).filter((t=>t.url!=e.url)),this.$nextTick((()=>{this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.bufferFileList)))}))}},props:{modelValue:{type:Array,default:()=>[]},initPath:{type:String,default:()=>""},preview:{type:Boolean,default:()=>!1}}},m=i(40089);const f=(0,m.Z)(h,[["render",c]]);var g=f},15248:function(e,t,i){i.r(t),i.d(t,{default:function(){return j}});var l=i(73396),a=i(87139);const s={class:"v-window-item-table"},n={class:"text-truncate font-weight-medium text-left text-teal-lighten-1",color:"primary"},o={class:"font-weight-light text-teal-lighten-1"},r=(0,l._)("p",{class:"font-weight-medium text"},"序列号:",-1),c={class:"font-weight-light"},u=(0,l._)("p",{class:"font-weight-medium text"},"发起工序:",-1),d={class:"font-weight-light"},p=(0,l._)("p",{class:"font-weight-medium text"},"拦截工序:",-1),h={class:"font-weight-light"},m=(0,l._)("p",{class:"font-weight-medium text"},"例外转序原因:",-1),f={class:"font-weight-light"},g=(0,l._)("p",{class:"font-weight-medium text"},"整机物料:",-1),w={class:"font-weight-light"},k=(0,l._)("p",{class:"font-weight-medium text"},"发起人:",-1),_={class:"font-weight-light"},x=(0,l._)("p",{class:"font-weight-medium text"},"发起时间:",-1),y={class:"font-weight-light"};function v(e,t,i,v,C,S){const b=(0,l.up)("AppBarPage"),W=(0,l.up)("ScanBarComponents"),O=(0,l.up)("SelectComponents"),B=(0,l.up)("v-btn"),V=(0,l.up)("v-badge"),F=(0,l.up)("v-col"),$=(0,l.up)("v-row"),P=(0,l.up)("UploaderImageComponents"),j=(0,l.up)("v-card"),L=(0,l.up)("TableComponents");return(0,l.wg)(),(0,l.iD)("span",null,[(0,l.Wm)(b),(0,l.Wm)(W,{ref:"ScanBar",placeholder:"请扫描或输入 整机序列号",onSearchClick:S.barSearchClick},null,8,["onSearchClick"]),(0,l.Wm)(O,{modelValue:e.measures,"onUpdate:modelValue":t[0]||(t[0]=t=>e.measures=t),ref:"select11",label:"工序查询",showSearch:"",option:e.measuresSelectOption,onOnSearchChange:S.measuresSelectSearchChange},null,8,["modelValue","option","onOnSearchChange"]),(0,l.Wm)(B,{style:{position:"fixed",top:"170px",right:"16px","z-index":"11",color:"#fff !important"},icon:"mdi-plus",color:"secondary",onClick:S.searchFunc},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1},8,["onClick"]),(0,l.Wm)(B,{style:{position:"fixed",top:"230px",right:"16px","z-index":"11",color:"#fff !important"},icon:"mdi-plus",color:"warning",onClick:S.resetFunc},{default:(0,l.w5)((()=>[(0,l.Uk)("重置")])),_:1},8,["onClick"]),(0,l._)("div",s,[(0,l.Wm)(L,{ref:"table1",url:"/iiot/abnormalConversion/list",showSearchBtn:!1,params:{qmType:30,querySource:"1",ttPpOrderSnId:e.ttPpOrderSnId,tmBasNodeLevelId:e.measures}},{tableBody:(0,l.w5)((e=>[(0,l.Wm)(j,null,{default:(0,l.w5)((()=>[(0,l.Wm)($,{"no-gutters":"",class:"table-title"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"1"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{content:e._index+1,color:"primary",inline:""},null,8,["content"])])),_:2},1024),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",n,(0,a.zw)(S.FormatDictionary("conversion_status",e.items.conversionState)["lable"]),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"12"},{default:(0,l.w5)((()=>[(0,l._)("p",o,(0,a.zw)(e.items.conversionNo),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"4"},{default:(0,l.w5)((()=>[r])),_:1}),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",c,(0,a.zw)(e.items.sn),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"4"},{default:(0,l.w5)((()=>[u])),_:1}),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",d,(0,a.zw)(e.items.initiateProcess),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"4"},{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",h,(0,a.zw)(e.items.interceptProcess),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"4"},{default:(0,l.w5)((()=>[m])),_:1}),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",f,(0,a.zw)(e.items.conversionDesc),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"4"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",w,(0,a.zw)(e.items.partName),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"4"},{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",_,(0,a.zw)(e.items.initiateByName),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"4"},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(F,{cols:"8"},{default:(0,l.w5)((()=>[(0,l._)("p",y,(0,a.zw)(e.items.createDate),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(P,{initPath:e.items.initiatePath,preview:""},null,8,["initPath"]),(0,l.Wm)($,{"no-gutters":"",class:"text"},{default:(0,l.w5)((()=>[(0,l.Wm)(F,{cols:"6",class:"text-left"},{default:(0,l.w5)((()=>["10"==e.items.conversionState?((0,l.wg)(),(0,l.j4)(B,{key:0,onClick:t=>S.dischargedClick(e),color:"primary mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,l.w5)((()=>[(0,l.Uk)("放行")])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1024),(0,l.Wm)(F,{cols:"6",class:"text-right"},{default:(0,l.w5)((()=>["30"!=e.items.conversionState?((0,l.wg)(),(0,l.j4)(B,{key:0,onClick:t=>S.detailClick(e),color:"error mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,l.w5)((()=>[(0,l.Uk)("关闭")])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},8,["params"])])])}i(73210),i(57658);var C=i(76496),S=i(88575),b=i(73378),W=i(37184),O=i(20868),B=i(2243),V=i(57265),F={components:{AppBarPage:C.Z,ScanBarComponents:b.Z,SelectComponents:B.Z,UploaderImageComponents:V.Z,TableComponents:S.Z},data:()=>({ttPpOrderSnId:"",measures:"",measuresSelectOption:[]}),created(){this.measuresHTTP(),this.initHandle()},methods:{GlobalTooltipFunc(e=""){(0,O.CF)({message:e,overlay:!0,closeOnClickOverlay:!0,duration:0})},FormatDictionary(e="",t=""){const i=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),l=i[e]||[],a=l.filter((e=>t==e.value))[0]||{};return a},initHandle(){const{ttPpOrderSnId:e,sn:t}=this.$route.query;e&&(this.ttPpOrderSnId=e,this.$nextTick((()=>{this.$refs.ScanBar&&this.$refs.ScanBar.setInputText(t)})))},async measuresHTTP(e=""){const{bufferRow:t}=this,{code:i,data:l=[]}=await(0,W.i)({url:"/iiot/nodeLevel/listNodeLevelForSelect",method:"get",url_params:{noOrName:e,templateLevelNodeNo:"uloc",status:"1"}});200==i&&(this.measuresSelectOption=l.map((e=>Object.assign({text:e.nodeLevelNo+e.nodeLevelName,value:e.tmBasNodeLevelId}))))},measuresSelectSearchChange(e){this.measuresHTTP(e)},async barSearchClick(e=""){const t=e.trim(),{code:i,data:l=[]}=await(0,W.i)({url:"/iiot/qmTask/listQmTaskSnForSelect",method:"get",url_params:{sn:t}});if(200==i){var a;if(!l.length)return void(0,O.LJ)("SN号不存在！");this.ttPpOrderSnId=null===(a=l[0])||void 0===a?void 0:a.ttPpOrderSnId,(0,O.XA)("扫描成功！"),this.$nextTick((()=>{this.$refs.table1.initFunc(1)}))}},searchFunc(){this.$refs.table1.initFunc(1)},addFunc(){},async detailClick(e){const{items:t}=e;this.$router.push({path:"/anomalyInitiateSection/close",query:{ttQmAbnormalConversionId:t.ttQmAbnormalConversionId}})},resetFunc(){this.ttPpOrderSnId="",this.$refs.ScanBar&&this.$refs.ScanBar.setInputText(""),this.$refs.select11&&this.$refs.select11.reset(),this.$nextTick((()=>{this.$refs.table1.initFunc(1)}))},dischargedClick(e){const{items:t}=e;this.$router.push({path:"/anomalyInitiateSection/discharged",query:{ttQmAbnormalConversionId:t.ttQmAbnormalConversionId}})}}},$=i(40089);const P=(0,$.Z)(F,[["render",v]]);var j=P}}]);
//# sourceMappingURL=chunk.9705.1689576161502.js.map