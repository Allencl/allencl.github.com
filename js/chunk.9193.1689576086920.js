"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[9193],{88575:function(t,e,n){n.d(e,{Z:function(){return q}});var r=n(73396),l=n(87139),i={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},a=(0,r._)("span",null,"第",-1),o={style:{"padding-left":"1px","padding-right":"1px"}},u=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),s=(0,r._)("span",null,"共",-1),c={style:{"padding-left":"1px","padding-right":"1px"}},d=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),f=(0,r._)("span",null,"总",-1),m={style:{"padding-left":"1px","padding-right":"1px"}},p=(0,r._)("span",null,"条",-1),w={style:{position:"relative",top:"1px","margin-left":"0px"}},g={key:2,class:"text-center",style:{"padding-top":"12px"}};function h(t,e,n,h,y,_){var x=(0,r.up)("v-icon"),b=(0,r.up)("v-btn"),W=(0,r.up)("v-card");return(0,r.wg)(),(0,r.iD)("span",null,[t.paging&&n.pagingShow?((0,r.wg)(),(0,r.j4)(W,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:_.previousHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-left")]})),_:1})]})),_:1},8,["onClick"]),(0,r.Wm)(b,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:_.nextHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-right")]})),_:1})]})),_:1},8,["onClick"]),(0,r._)("span",i,[a,(0,r._)("span",o,(0,l.zw)(t.current),1),u,s,(0,r._)("span",c,(0,l.zw)(t.page),1),d,f,(0,r._)("span",m,(0,l.zw)(t.totalNum),1),p]),(0,r._)("span",w,[n.showSearchBtn?((0,r.wg)(),(0,r.j4)(b,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:_.searchClick,variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"24",icon:"mdi-magnify"}),(0,r.Uk)(" 查询 ")]})),_:1},8,["onClick"])):(0,r.kq)("",!0),(0,r.Wm)(b,{onClick:_.refreshClick,style:(0,l.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 刷新 ")]})),_:1},8,["onClick"])])]})),_:1})):(0,r.kq)("",!0),t.items.length?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(t.items,(function(e,n){return(0,r.WI)(t.$slots,"tableBody",{key:n,items:e,_index:n})})),128)):((0,r.wg)(),(0,r.iD)("p",g,[(0,r.Wm)(x,{icon:"mdi-emoticon-sad-outline"}),(0,r.Uk)(" 无数据！ ")]))])}var y=n(50124),_=n(95082),x=n(48534),b=(n(21249),n(37184)),W=n(20868),v={components:{},emits:["searchClick","refresh"],data:function(){return{totalNum:0,current:1,page:0,paging:!0,items:[]}},created:function(){var t=this.auto,e=this.url;t&&e&&this.initFunc()},methods:{previousHandle:function(){var t=this,e=this.current;1!=e?(this.current=e-1,this.$nextTick((function(){t.initFunc(t.current)}))):(0,W.LJ)("第一页！")},nextHandle:function(){var t=this,e=this.current,n=this.page;e>=n?(0,W.LJ)("最后一页！"):(this.current=e+1,this.$nextTick((function(){t.initFunc(t.current)})))},initFunc:function(){var t=arguments,e=this;return(0,x.Z)((0,y.Z)().mark((function n(){var r,l,i,a,o,u,s,c,d,f,m,p,w,g,h,x;return(0,y.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:1,l=t.length>1?t[1]:void 0,i=e.url,a=e.params,o=void 0===a?{}:a,u=e.children,s=e.method,c=e.formatData,!u){n.next=7;break}return e.items=u,e.paging=!1,n.abrupt("return");case 7:return d=(0,_.Z)((0,_.Z)({pageNum:r,pageSize:10},o),l),n.next=10,(0,b.i)({method:s,url:i,payload:"post"==s?d:{},url_params:"get"==s?d:{}});case 10:f=n.sent,m=f.code,p=f.total,w=void 0===p?0:p,g=f.msg,void 0===g?"":g,h=f.data,x=f.rows,200==m&&(e.totalNum=w,e.current=r,e.page=Math.ceil(w/d.pageSize),e.items=c?c(h||x||[]):h||x||[]);case 19:case"end":return n.stop()}}),n)})))()},refreshClick:function(){var t=this.refreshFunc;!t&&this.initFunc(1),this.$emit("refresh")},searchClick:function(){this.$emit("searchClick")},resultData:function(){return this.items||[]},selectAll:function(){this.items=this.items.map((function(t){return Object.assign(t,{_checked:!0})}))}},props:{method:{type:String,default:function(){return"get"}},refreshFunc:{type:Boolean,default:function(){return!1}},showSearchBtn:{type:Boolean,default:function(){return!1}},auto:{type:Boolean,default:function(){return!0}},pagingShow:{type:Boolean,default:function(){return!0}},children:{type:Array,default:function(){}},url:{type:String,default:function(){return""}},params:{type:Object,default:function(){}},formatData:{}}},k=n(40089);const P=(0,k.Z)(v,[["render",h]]);var q=P},9193:function(t,e,n){n.r(e),n.d(e,{default:function(){return mt}});var r=n(73396),l=n(87139),i=n(35010),a=(0,r._)("p",{class:"font-weight-medium text"},"检验产品:",-1),o={class:"text-truncate font-weight-light"},u=(0,r._)("p",{class:"font-weight-medium text"},"配送单号:",-1),s={class:"text-truncate font-weight-light"},c=(0,r._)("p",{class:"font-weight-medium text"},"批次号:",-1),d={class:"text-truncate font-weight-light"},f=(0,r._)("p",{class:"font-weight-medium text"},"供应商信息:",-1),m={class:"text-truncate font-weight-light"},p=(0,r._)("p",{class:"font-weight-medium text"},"检验类型:",-1),w={class:"text-truncate font-weight-light"},g={class:"text-truncate font-weight-light"},h=(0,r._)("span",{class:"font-weight-medium text"},"检验数量: ",-1),y={class:"text-truncate font-weight-light",style:{color:"#00E5FF"}},_={class:"font-weight-medium",style:{color:"#00E5FF"}},x=(0,r._)("p",{class:"font-weight-medium text"},"检验标准:",-1),b={class:"text-truncate font-weight-light"},W=(0,r._)("p",{class:"font-weight-medium text"},"测量结果:",-1),v={class:"text-truncate font-weight-light"},k=(0,r._)("p",{class:"font-weight-medium text"},"判定结果:",-1),P={class:"text-truncate font-weight-light"},q=(0,r._)("p",{class:"font-weight-medium text input-lable",style:{"margin-top":"15px"}},"不合格描述:",-1),V=(0,r._)("div",{style:{height:"16px"}},null,-1),D=(0,r._)("span",{class:"font-weight-medium"},"质量工程师意见",-1),C=(0,r._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),L=(0,r._)("p",{class:"font-weight-medium text"},"处理人:",-1),z={class:"text-truncate font-weight-light"},S=(0,r._)("p",{class:"font-weight-medium text"},"处理时间:",-1),T={class:"text-truncate font-weight-light"},F=(0,r._)("p",{class:"font-weight-medium text"},"下发到技术:",-1),R=(0,r._)("span",{class:"font-weight-medium"},"技术人员意见",-1),U=(0,r._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),Z=(0,r._)("p",{class:"font-weight-medium text"},"处理人:",-1),B={class:"text-truncate font-weight-light"},$=(0,r._)("p",{class:"font-weight-medium text"},"处理时间:",-1),O={class:"text-truncate font-weight-light"},M=(0,r._)("p",{class:"font-weight-medium text"},"下发到采购:",-1),I=(0,r._)("span",{class:"font-weight-medium"},"采购部门处理意见",-1),N=(0,r._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),Q=(0,r._)("p",{class:"font-weight-medium text"},"处理人:",-1),j={class:"text-truncate font-weight-light"},E=(0,r._)("p",{class:"font-weight-medium text"},"处理时间:",-1),J={class:"text-truncate font-weight-light"},A=(0,r._)("p",{class:"font-weight-medium text"},"下发到处理部门:",-1),H=(0,r._)("span",{class:"font-weight-medium"},"部长意见",-1),X=(0,r._)("span",{class:"font-weight-medium",style:{color:"#B71C1C"}},"不可编辑",-1),G=(0,r._)("p",{class:"font-weight-medium text"},"处理人:",-1),K={class:"text-truncate font-weight-light"},Y=(0,r._)("p",{class:"font-weight-medium text"},"处理时间:",-1),tt={class:"text-truncate font-weight-light"},et=(0,r._)("div",{style:{height:"60px"}},null,-1);function nt(t,e,n,nt,rt,lt){var it=(0,r.up)("AppBarPage"),at=(0,r.up)("v-col"),ot=(0,r.up)("v-row"),ut=(0,r.up)("v-sheet"),st=(0,r.up)("v-badge"),ct=(0,r.up)("van-field"),dt=(0,r.up)("v-card"),ft=(0,r.up)("TableComponents"),mt=(0,r.up)("v-icon"),pt=(0,r.up)("SelectComponents"),wt=(0,r.up)("v-switch"),gt=(0,r.up)("v-btn");return(0,r.wg)(),(0,r.iD)("span",null,[(0,r.Wm)(it),(0,r.Wm)(ut,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[a]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",o,(0,l.zw)(t.bufferRow.partNo)+"-"+(0,l.zw)(t.bufferRow.partName),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[u]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",s,(0,l.zw)(t.bufferRow.receiptNo),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[c]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",d,(0,l.zw)(t.bufferRow.batchNo),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[f]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",m,(0,l.zw)(t.bufferRow.supperName),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[p]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",w,(0,l.zw)(lt.FormatDictionary("test_type",t.bufferRow.taskType)["lable"]),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r._)("p",g,[h,(0,r.Uk)(" "+(0,l.zw)(t.bufferRow.taskQty),1)])]})),_:1}),(0,r.Wm)(at,{cols:"6",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r._)("p",y,[(0,r.Uk)(" 状态: "),(0,r._)("span",null,(0,l.zw)(lt.FormatDictionary("qm_defect_status",t.bufferRow.defectStatus)["lable"]),1)])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(ut,{class:"v-window-item-table"},{default:(0,r.w5)((function(){return[(0,r.Wm)(ft,{ref:"table1",children:t.tableList,pagingShow:!1},{tableBody:(0,r.w5)((function(e){return[(0,r.Wm)(dt,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(ot,{"no-gutters":"",class:"table-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"1"},{default:(0,r.w5)((function(){return[(0,r.Wm)(st,{content:e._index+1,color:"primary",inline:""},null,8,["content"])]})),_:2},1024),(0,r.Wm)(at,{cols:"10"}),(0,r.Wm)(at,{cols:"1",class:"text-right"})]})),_:2},1024),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r._)("p",_,"类别: "+(0,l.zw)(e.items.inspectDetailName),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[x]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",b,(0,l.zw)(e.items.parameterRange),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[W]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",v,(0,l.zw)(e.items.resultValue),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4"},{default:(0,r.w5)((function(){return[k]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",P,(0,l.zw)(e.items.inspectResult),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"2px"}},{default:(0,r.w5)((function(){return[q]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r.Wm)(ct,{modelValue:e.items.reasonDesc,"onUpdate:modelValue":function(t){return e.items.reasonDesc=t},disabled:t.readonlyPage,style:{"padding-left":"0px"},class:"custem-input-index1",autocomplete:"off",placeholder:"请输入描述"},null,8,["modelValue","onUpdate:modelValue","disabled"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:1},8,["children"])]})),_:1}),V,t.showLi1?((0,r.wg)(),(0,r.j4)(ut,{key:0,elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(ot,{"no-gutters":"",class:"custem-card-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{icon:"mdi-file-edit-outline",size:"16",color:"primary"}),D]})),_:1}),(0,r.wy)((0,r.Wm)(at,{cols:"6",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{large:"",color:"error"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" mdi-alert ")]})),_:1}),C]})),_:1},512),[[i.F8,t.readonlyPage||t.readonlyPage11]])]})),_:1}),(0,r.Wm)(pt,{modelValue:t.result1,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.result1=e}),ref:"select11",label:"处理结果",required:"",disabled:t.readonlyPage||t.readonlyPage11,option:t.result1SelectOption},null,8,["modelValue","disabled","option"]),(0,r.Wm)(pt,{modelValue:t.type,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.type=e}),ref:"select111",label:"不良类别",disabled:t.readonlyPage||t.readonlyPage11,option:t.typeSelectOption},null,8,["modelValue","disabled","option"]),(0,r.Wm)(ct,{modelValue:t.opinion1,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.opinion1=e}),disabled:t.readonlyPage||t.readonlyPage11,autocomplete:"off",label:"处理意见",placeholder:"请输入描述"},null,8,["modelValue","disabled"]),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[L]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",z,(0,l.zw)(t.bufferRow.qualityEngineerBy),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[S]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",T,(0,l.zw)(t.bufferRow.qualityEngineerTime),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[F]})),_:1}),(0,r.Wm)(at,{cols:"4",style:{"text-align":"right"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(wt,{modelValue:t._switch11,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t._switch11=e}),label:t._switch11?"是":"否",color:"primary",density:"comfortable",disabled:t.readonlyPage||t.readonlyPage11,style:{top:"-12px",left:"0px",position:"relative",height:"48px",display:"block",width:"104px"}},null,8,["modelValue","label","disabled"])]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"12",style:{"text-align":"right"}},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(gt,{color:"warning",disabled:t.readonlyPage||t.readonlyPage11,onClick:lt.submitQuality},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 确定 ")]})),_:1},8,["disabled","onClick"]),[[i.F8,lt.ControlBtnPermission("iiot:*:qualityEngineerForm")]])]})),_:1})]})),_:1})]})),_:1})):(0,r.kq)("",!0),t.showLi2?((0,r.wg)(),(0,r.j4)(ut,{key:1,elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(ot,{"no-gutters":"",class:"custem-card-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{icon:"mdi-file-edit-outline",size:"16",color:"primary"}),R]})),_:1}),(0,r.wy)((0,r.Wm)(at,{cols:"6",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{large:"",color:"error"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" mdi-alert ")]})),_:1}),U]})),_:1},512),[[i.F8,t.readonlyPage||t.readonlyPage22]])]})),_:1}),(0,r.Wm)(pt,{modelValue:t.result2,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.result2=e}),ref:"select66",label:"处理结果",required:"",disabled:t.readonlyPage||t.readonlyPage22,option:t.result2SelectOption},null,8,["modelValue","disabled","option"]),(0,r.Wm)(ct,{modelValue:t.opinion2,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.opinion2=e}),disabled:t.readonlyPage||t.readonlyPage22,autocomplete:"off",label:"处理意见",placeholder:"请输入描述"},null,8,["modelValue","disabled"]),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[Z]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",B,(0,l.zw)(t.bufferRow.technologyBy),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[$]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",O,(0,l.zw)(t.bufferRow.technologyTime),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"5",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[M]})),_:1}),(0,r.Wm)(at,{cols:"6",style:{"text-align":"right"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(wt,{modelValue:t._switch22,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t._switch22=e}),label:t._switch22?"是":"否",color:"primary",density:"comfortable",disabled:t.readonlyPage||t.readonlyPage22,style:{top:"-12px",left:"0px",position:"relative",height:"48px",display:"block",width:"104px"}},null,8,["modelValue","label","disabled"])]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"12",style:{"text-align":"right"}},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(gt,{color:"warning",disabled:t.readonlyPage||t.readonlyPage22,onClick:lt.submitTechnology},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 确定 ")]})),_:1},8,["disabled","onClick"]),[[i.F8,lt.ControlBtnPermission("iiot:*:technologyForm")]])]})),_:1})]})),_:1})]})),_:1})):(0,r.kq)("",!0),t.showLi3?((0,r.wg)(),(0,r.j4)(ut,{key:2,elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(ot,{"no-gutters":"",class:"custem-card-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{icon:"mdi-cart-minus",size:"16",color:"primary"}),I]})),_:1}),(0,r.wy)((0,r.Wm)(at,{cols:"6",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{large:"",color:"error"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" mdi-alert ")]})),_:1}),N]})),_:1},512),[[i.F8,t.readonlyPage||t.readonlyPage33]])]})),_:1}),(0,r.Wm)(pt,{modelValue:t.result7,"onUpdate:modelValue":e[7]||(e[7]=function(e){return t.result7=e}),ref:"select99",label:"处理结果",required:"",disabled:t.readonlyPage||t.readonlyPage33,option:t.result2SelectOption},null,8,["modelValue","disabled","option"]),(0,r.Wm)(ct,{modelValue:t.opinion7,"onUpdate:modelValue":e[8]||(e[8]=function(e){return t.opinion7=e}),disabled:t.readonlyPage||t.readonlyPage33,autocomplete:"off",label:"处理意见",placeholder:"请输入描述"},null,8,["modelValue","disabled"]),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[Q]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",j,(0,l.zw)(t.bufferRow.purchaseBy),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"14px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[E]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",J,(0,l.zw)(t.bufferRow.purchaseTime),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"5",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[A]})),_:1}),(0,r.Wm)(at,{cols:"6",style:{"text-align":"right"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(wt,{modelValue:t._switch77,"onUpdate:modelValue":e[9]||(e[9]=function(e){return t._switch77=e}),label:t._switch77?"是":"否",color:"primary",density:"comfortable",disabled:t.readonlyPage||t.readonlyPage33,style:{top:"-12px",left:"0px",position:"relative",height:"48px",display:"block",width:"104px"}},null,8,["modelValue","label","disabled"])]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"12",style:{"text-align":"right"}},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(gt,{color:"warning",disabled:t.readonlyPage||t.readonlyPage33,onClick:lt.submitPurchase},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 确定 ")]})),_:1},8,["disabled","onClick"]),[[i.F8,lt.ControlBtnPermission("iiot:*:purchaseCommit")]])]})),_:1})]})),_:1})]})),_:1})):(0,r.kq)("",!0),t.showLi4?((0,r.wg)(),(0,r.j4)(ut,{key:3,elevation:"2",rounded:"",class:"custem-card"},{default:(0,r.w5)((function(){return[(0,r.Wm)(ot,{"no-gutters":"",class:"custem-card-title"},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{icon:"mdi-file-edit-outline",size:"16",color:"primary"}),H]})),_:1}),(0,r.wy)((0,r.Wm)(at,{cols:"6",class:"text-right"},{default:(0,r.w5)((function(){return[(0,r.Wm)(mt,{large:"",color:"error"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" mdi-alert ")]})),_:1}),X]})),_:1},512),[[i.F8,t.readonlyPage]])]})),_:1}),(0,r.Wm)(pt,{modelValue:t.result3,"onUpdate:modelValue":e[10]||(e[10]=function(e){return t.result3=e}),ref:"select77",label:"处理结果",required:"",disabled:t.readonlyPage,option:t.result3SelectOption},null,8,["modelValue","disabled","option"]),(0,r.Wm)(ct,{modelValue:t.opinion3,"onUpdate:modelValue":e[11]||(e[11]=function(e){return t.opinion3=e}),disabled:t.readonlyPage,autocomplete:"off",label:"处理意见",placeholder:"请输入描述"},null,8,["modelValue","disabled"]),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[G]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",K,(0,l.zw)(t.bufferRow.qualityMinisterBy),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"margin-bottom":"10px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"4",style:{"padding-left":"5px"}},{default:(0,r.w5)((function(){return[Y]})),_:1}),(0,r.Wm)(at,{cols:"8"},{default:(0,r.w5)((function(){return[(0,r._)("p",tt,(0,l.zw)(t.bufferRow.qualityMinisterTime),1)]})),_:1})]})),_:1}),(0,r.Wm)(ot,{"no-gutters":"",class:"text",style:{"text-align":"right"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(at,{cols:"12"},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(gt,{color:"warning",disabled:t.readonlyPage,onClick:lt.submitMinister},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 确定 ")]})),_:1},8,["disabled","onClick"]),[[i.F8,lt.ControlBtnPermission("iiot:*:qualityMinisterForm")]])]})),_:1})]})),_:1})]})),_:1})):(0,r.kq)("",!0),et])}var rt=n(50124),lt=n(48534),it=(n(57327),n(41539),n(21249),n(57658),n(76496)),at=n(88575),ot=n(2243),ut=n(37184),st=n(20868),ct={components:{AppBarPage:it.Z,SelectComponents:ot.Z,TableComponents:at.Z},data:function(){return{bufferRow:{},_switch11:!1,_switch22:!1,tableList:[],result1:"",result1SelectOption:[],opinion1:"",result2:"",result2SelectOption:[],opinion2:"",result3:"",result3SelectOption:[],opinion3:"",result7:"",opinion7:"",_switch77:!1,type:"",typeSelectOption:[],showLi1:!1,showLi2:!1,showLi3:!1,showLi4:!1,readonlyPage:!0,readonlyPage11:!1,readonlyPage22:!1,readonlyPage33:!1}},created:function(){this.initFunc(),this.typeHTTP()},methods:{FormatDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),r=n[t]||[],l=r.filter((function(t){return e==t.value}))[0]||{};return l},ControlBtnPermission:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="/qualityMaterialDisqualification/index",n=JSON.parse(localStorage.getItem("bufferGlobalBtnPermission")||{});(n[e]||[]).filter((function(e){return e.perms==t})).length;return!0},initFunc:function(){var t=this;return(0,lt.Z)((0,rt.Z)().mark((function e(){var n,r,l,i,a,o,u,s;return(0,rt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.query.ttQmDefectId,r=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),l=r["defect_process_type"]||[],t.result1SelectOption=l.map((function(t){return Object.assign({text:t.lable,value:t.value})})),t.result2SelectOption=l.map((function(t){return Object.assign({text:t.lable,value:t.value})})),t.result3SelectOption=l.map((function(t){return Object.assign({text:t.lable,value:t.value})})),e.next=8,(0,ut.i)({url:"/iiot/qmDefect/".concat(n),method:"get"});case 8:if(i=e.sent,a=i.code,o=i.data,u=void 0===o?{}:o,200!=a){e.next=67;break}t.bufferRow=u,e.t0=u.defectStatus,e.next="11"===e.t0?17:"21"===e.t0?23:"31"===e.t0?30:"41"===e.t0?38:"90"===e.t0?47:53;break;case 17:return t.showLi1=!0,t.showLi2=!1,t.showLi3=!1,t.showLi4=!1,t.readonlyPage=!1,e.abrupt("break",54);case 23:return t.showLi1=!0,t.showLi2=!0,t.showLi3=!1,t.showLi4=!1,t.readonlyPage=!1,t.readonlyPage11=!0,e.abrupt("break",54);case 30:return t.showLi1=!0,t.showLi2=!0,t.showLi3=!0,t.showLi4=!1,t.readonlyPage=!1,t.readonlyPage11=!0,t.readonlyPage22=!0,e.abrupt("break",54);case 38:return t.showLi1=!0,t.showLi2=!0,t.showLi3=!0,t.showLi4=!0,t.readonlyPage=!1,t.readonlyPage11=!0,t.readonlyPage22=!0,t.readonlyPage33=!0,e.abrupt("break",54);case 47:return t.showLi1=!0,t.showLi2=!0,t.showLi3=!0,t.showLi4=!0,t.readonlyPage=!0,e.abrupt("break",54);case 53:return e.abrupt("break",54);case 54:t.result1=u.qualityEngineerType,t._switch11="1"==u.issueTechnology,t.type=u.tmBasReasonId,t.opinion1=u.qualityEngineerD||"",t.result2=u.technologyType,t._switch22="1"==u.issuePurchase,t.opinion2=u.technologyD||"",t.result7=u.purchaseType,t._switch77="1"==u.issueQualityMinister,t.opinion7=u.purchaseD||"",t.result3=u.qualityMinisterType,t.opinion3=u.qualityMinisterD||"",setTimeout((function(){t.$refs.select11&&t.$refs.select11.setValue(u.qualityEngineerType),t.$refs.select66&&t.$refs.select66.setValue(u.technologyType),t.$refs.select99&&t.$refs.select99.setValue(u.purchaseType),t.$refs.select77&&t.$refs.select77.setValue(u.qualityMinisterType)}),1e3);case 67:return e.next=69,(0,ut.i)({url:"/iiot/qmDefectDetail/list",method:"get",url_params:{ttQmDefectId:n}});case 69:s=e.sent,200==s.code&&(t.tableList=s.data||[],t.$nextTick((function(){t.$refs.table1&&t.$refs.table1.initFunc()})));case 71:case"end":return e.stop()}}),e)})))()},typeHTTP:function(){var t=this;return(0,lt.Z)((0,rt.Z)().mark((function e(){var n,r,l,i;return(0,rt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,ut.i)({url:"/iiot/reason/list",method:"post",payload:{reasonNo:"",params:{reasonTypeList:["MS","F"]}}});case 2:n=e.sent,r=n.code,l=n.data,i=void 0===l?[]:l,200==r&&(t.typeSelectOption=i.map((function(t){return Object.assign({text:t.reasonNo+"-"+t.reasonName,value:t.tmBasReasonId})})),setTimeout((function(){t.$refs.select111&&t.$refs.select111.setValue(t.bufferRow.tmBasReasonId)}),1e3));case 7:case"end":return e.stop()}}),e)})))()},submitQuality:function(){var t=this;return(0,lt.Z)((0,rt.Z)().mark((function e(){var n,r,l,i,a;return(0,rt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.bufferRow,r={qualityEngineerType:t.result1,issueTechnology:t._switch11?"1":"0",tmBasReasonId:t.type,qualityEngineerD:t.opinion1,dataList:t.tableList,ttQmDefectId:n.ttQmDefectId},t.result1){e.next=5;break}return(0,st.LJ)("处理结果必选！"),e.abrupt("return");case 5:return e.next=7,(0,ut.i)({url:"/iiot/qmDefect/qualityEngineerDefect",method:"post",payload:r});case 7:l=e.sent,i=l.code,a=l.data,void 0===a?{}:a,200==i&&((0,st.XA)("提交成功！"),t.$router.push({path:"/qualityMaterial/index",query:{}}));case 12:case"end":return e.stop()}}),e)})))()},submitTechnology:function(){var t=this;return(0,lt.Z)((0,rt.Z)().mark((function e(){var n,r,l,i,a;return(0,rt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.bufferRow,r={technologyType:t.result2,issuePurchase:t._switch22?"1":"0",technologyD:t.opinion2,ttQmDefectId:n.ttQmDefectId},t.result2){e.next=5;break}return(0,st.LJ)("处理结果必选！"),e.abrupt("return");case 5:return e.next=7,(0,ut.i)({url:"/iiot/qmDefect/technologyDefect",method:"post",payload:r});case 7:l=e.sent,i=l.code,a=l.data,void 0===a?{}:a,200==i&&((0,st.XA)("提交成功！"),t.$router.push({path:"/qualityMaterial/index",query:{}}));case 12:case"end":return e.stop()}}),e)})))()},submitPurchase:function(){var t=this;return(0,lt.Z)((0,rt.Z)().mark((function e(){var n,r,l,i,a;return(0,rt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.bufferRow,r={purchaseType:t.result7,issueQualityMinister:t._switch77?"1":"0",purchaseD:t.opinion7,ttQmDefectId:n.ttQmDefectId},t.result7){e.next=5;break}return(0,st.LJ)("处理结果必选！"),e.abrupt("return");case 5:return e.next=7,(0,ut.i)({url:"/iiot/qmDefect/purchaseCommit",method:"post",payload:r});case 7:l=e.sent,i=l.code,a=l.data,void 0===a?{}:a,200==i&&((0,st.XA)("提交成功！"),t.$router.push({path:"/qualityMaterial/index",query:{}}));case 12:case"end":return e.stop()}}),e)})))()},submitMinister:function(){var t=this;return(0,lt.Z)((0,rt.Z)().mark((function e(){var n,r,l,i,a;return(0,rt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.bufferRow,r={qualityMinisterType:t.result3,qualityMinisterD:t.opinion3,ttQmDefectId:n.ttQmDefectId},t.result3){e.next=5;break}return(0,st.LJ)("处理结果必选！"),e.abrupt("return");case 5:return e.next=7,(0,ut.i)({url:"/iiot/qmDefect/qualityMinisterDefect",method:"post",payload:r});case 7:l=e.sent,i=l.code,a=l.data,void 0===a?{}:a,200==i&&((0,st.XA)("提交成功！"),t.$router.push({path:"/qualityMaterial/index",query:{}}));case 12:case"end":return e.stop()}}),e)})))()}}},dt=n(40089);const ft=(0,dt.Z)(ct,[["render",nt]]);var mt=ft}}]);
//# sourceMappingURL=chunk.9193.1689576086920.js.map