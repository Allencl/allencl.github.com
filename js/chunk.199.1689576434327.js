"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[199],{21472:function(t,e,a){a.d(e,{Oh:function(){return l},_w:function(){return s}});var i=a(37184);const s=async t=>await(0,i.i)({url:"/iiot/equipmentRepair/responseWbForApp",method:"post",payload:t.payload}),l=async t=>await(0,i.i)({url:"/iiot/equipmentRepairHistory",method:"get",url_RESTful:t.url_RESTful})},88575:function(t,e,a){a.d(e,{Z:function(){return v}});var i=a(73396),s=a(87139);const l={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},n=(0,i._)("span",null,"第",-1),o={style:{"padding-left":"1px","padding-right":"1px"}},r=(0,i._)("span",{style:{"margin-right":"3px"}},"页",-1),u=(0,i._)("span",null,"共",-1),c={style:{"padding-left":"1px","padding-right":"1px"}},f=(0,i._)("span",{style:{"margin-right":"3px"}},"页",-1),m=(0,i._)("span",null,"总",-1),p={style:{"padding-left":"1px","padding-right":"1px"}},d=(0,i._)("span",null,"条",-1),w={style:{position:"relative",top:"1px","margin-left":"0px"}},h={key:2,class:"text-center",style:{"padding-top":"12px"}};function g(t,e,a,g,_,x){const W=(0,i.up)("v-icon"),y=(0,i.up)("v-btn"),b=(0,i.up)("v-card");return(0,i.wg)(),(0,i.iD)("span",null,[t.paging&&a.pagingShow?((0,i.wg)(),(0,i.j4)(b,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(y,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:x.previousHandle},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{size:"28"},{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-chevron-left")])),_:1})])),_:1},8,["onClick"]),(0,i.Wm)(y,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:x.nextHandle},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{size:"28"},{default:(0,i.w5)((()=>[(0,i.Uk)("mdi-chevron-right")])),_:1})])),_:1},8,["onClick"]),(0,i._)("span",l,[n,(0,i._)("span",o,(0,s.zw)(t.current),1),r,u,(0,i._)("span",c,(0,s.zw)(t.page),1),f,m,(0,i._)("span",p,(0,s.zw)(t.totalNum),1),d]),(0,i._)("span",w,[a.showSearchBtn?((0,i.wg)(),(0,i.j4)(y,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:x.searchClick,variant:"plain",color:"primary"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{size:"24",icon:"mdi-magnify"}),(0,i.Uk)(" 查询 ")])),_:1},8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(y,{onClick:x.refreshClick,style:(0,s.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 刷新 ")])),_:1},8,["onClick"])])])),_:1})):(0,i.kq)("",!0),t.items.length?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)(t.items,((e,a)=>(0,i.WI)(t.$slots,"tableBody",{key:a,items:e,_index:a}))),128)):((0,i.wg)(),(0,i.iD)("p",h,[(0,i.Wm)(W,{icon:"mdi-emoticon-sad-outline"}),(0,i.Uk)(" 无数据！ ")]))])}var _=a(21801),x=a(37184);var W=a(20868),y={components:{},emits:["searchClick","refresh"],data:()=>({totalNum:0,current:1,page:0,paging:!0,items:[]}),created(){const{auto:t,url:e}=this;t&&e&&this.initFunc()},methods:{previousHandle(){const{current:t}=this;1!=t?(this.current=t-1,this.$nextTick((()=>{this.initFunc(this.current)}))):(0,W.LJ)("第一页！")},nextHandle(){const{current:t,page:e}=this;t>=e?(0,W.LJ)("最后一页！"):(this.current=t+1,this.$nextTick((()=>{this.initFunc(this.current)})))},async initFunc(t=1,e){const{url:a,params:i={},children:s,method:l,formatData:n}=this;if(s)return this.items=s,void(this.paging=!1);const o=(0,_.Z)((0,_.Z)({pageNum:t,pageSize:10},i),e),{code:r,total:u=0,msg:c="",data:f,rows:m}=await(0,x.i)({method:l,url:a,payload:"post"==l?o:{},url_params:"get"==l?o:{}});200==r&&(this.totalNum=u,this.current=t,this.page=Math.ceil(u/o.pageSize),this.items=n?n(f||m||[]):f||m||[])},refreshClick(){const{refreshFunc:t}=this;!t&&this.initFunc(1),this.$emit("refresh")},searchClick(){this.$emit("searchClick")},resultData(){return this.items||[]},selectAll(){this.items=this.items.map((t=>Object.assign(t,{_checked:!0})))}},props:{method:{type:String,default:()=>"get"},refreshFunc:{type:Boolean,default:()=>!1},showSearchBtn:{type:Boolean,default:()=>!1},auto:{type:Boolean,default:()=>!0},pagingShow:{type:Boolean,default:()=>!0},children:{type:Array,default:()=>{}},url:{type:String,default:()=>""},params:{type:Object,default:()=>{}},formatData:{}}},b=a(40089);const k=(0,b.Z)(y,[["render",g]]);var v=k},57265:function(t,e,a){a.d(e,{Z:function(){return h}});var i=a(73396);const s={style:{padding:"0px 12px 0px 12px"}},l={key:0,class:"font-weight-medium text",style:{"margin-bottom":"8px"}},n={key:1,style:{"margin-bottom":"8px"},class:"font-weight-medium text"},o={class:"custem-iamge-upload"},r=["src"];function u(t,e,a,u,c,f){const m=(0,i.up)("van-uploader"),p=(0,i.up)("v-icon");return(0,i.wg)(),(0,i.iD)("span",null,[(0,i._)("div",s,[a.preview?((0,i.wg)(),(0,i.iD)("p",l,"图片预览 ")):((0,i.wg)(),(0,i.iD)("p",n," 图片上传 ")),a.preview?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(m,{key:2,"after-read":f.afterRead,"preview-image":!1},null,8,["after-read"])),(0,i._)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.bufferFileList,((s,l)=>((0,i.wg)(),(0,i.iD)("li",{key:l,onClick:e[0]||(e[0]=e=>f.checkImage(t.bufferFileList))},[(0,i._)("img",{src:s.url},null,8,r),a.preview?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:0,onClick:t=>f.removeClick(s,t),class:"icon",icon:"mdi-close-circle-outline",color:"red"},null,8,["onClick"]))])))),128))])])])}a(26699),a(32023),a(38862);var c=a(37184),f=a(20868),m=a(9801),p={components:{},emits:["update:modelValue","onChange"],data:()=>({bufferFileList:[]}),watch:{modelValue:{handler(t=[]){this.bufferFileList=t},deep:!0,immediate:!0},initPath:{handler(t=""){t&&(this.bufferFileList=t.split(",").map((t=>Object.assign({url:t}))))},deep:!0,immediate:!0}},methods:{checkImage(t=[]){t.length&&(0,m.V)(t.map((t=>t.url)))},async afterRead(t){if(!t.file.type.includes("image"))return void(0,f.LJ)("只能选择图片！");if(t.file.size>=19922944)return void(0,f.LJ)("图片超过20M！");if(this.bufferFileList.length>2)return void(0,f.LJ)("最多只能选择3张图片！");let e=new FormData;e.append("file",t.file);const{code:a,data:i={}}=await(0,c.i)({url:"/file/upload",method:"post",formData:!0,payload:e});200==a?(this.bufferFileList=this.bufferFileList.concat([i]),(0,f.XA)("图片上传成功！"),this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.bufferFileList)))):(0,f.LJ)("图片上传失败！")},removeClick(t,e){e.stopPropagation(),this.bufferFileList=JSON.parse(JSON.stringify(this.bufferFileList)).filter((e=>e.url!=t.url)),this.$nextTick((()=>{this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.bufferFileList)))}))}},props:{modelValue:{type:Array,default:()=>[]},initPath:{type:String,default:()=>""},preview:{type:Boolean,default:()=>!1}}},d=a(40089);const w=(0,d.Z)(p,[["render",u]]);var h=w},80199:function(t,e,a){a.r(e),a.d(e,{default:function(){return tt}});var i=a(73396),s=a(87139);const l=(0,i._)("span",{class:"font-weight-medium"},"维修设备信息",-1),n=(0,i._)("p",{class:"font-weight-medium text"},"故障类型:",-1),o={class:"text-truncate font-weight-light"},r=(0,i._)("p",{class:"font-weight-medium text"},"故障位置:",-1),u={class:"text-truncate font-weight-light"},c=(0,i._)("span",{class:"font-weight-medium text"},"故障详情描述: ",-1),f=(0,i._)("p",{class:"font-weight-medium text"},"维修类型:",-1),m={class:"text-truncate font-weight-light"},p=(0,i._)("p",{class:"font-weight-medium text"},"报修人:",-1),d={class:"text-truncate font-weight-light"},w=(0,i._)("p",{class:"font-weight-medium text"},"报修时间:",-1),h={class:"text-truncate font-weight-light"},g=(0,i._)("p",{class:"font-weight-medium text"},"响应人:",-1),_={class:"text-truncate font-weight-light"},x=(0,i._)("p",{class:"font-weight-medium text"},"响应时间:",-1),W={class:"text-truncate font-weight-light"},y=(0,i._)("p",{class:"font-weight-medium text"},"维修人:",-1),b={class:"text-truncate font-weight-light"},k=(0,i._)("p",{class:"font-weight-medium text"},"维修时间:",-1),v={class:"text-truncate font-weight-light"},R=(0,i._)("span",{class:"font-weight-medium"},"维修经验",-1),z=(0,i._)("p",{class:"font-weight-medium text"},"根本问题:",-1),C={class:"text-truncate font-weight-light"},F=(0,i._)("p",{class:"font-weight-medium text"},"解决措施:",-1),S={class:"text-truncate font-weight-light"},D=(0,i._)("p",{class:"font-weight-medium text"},"改进建议:",-1),L={class:"text-truncate font-weight-light"},P=(0,i._)("p",{class:"font-weight-medium text"},"维修用时:",-1),T={class:"text-truncate font-weight-light"},B=(0,i._)("p",{class:"font-weight-medium text"},"维修内容:",-1),J={class:"font-weight-light"},N=(0,i._)("p",{class:"font-weight-medium text"},"影响时长:",-1),$={class:"text-truncate font-weight-light"},q=(0,i._)("p",{class:"font-weight-medium text"},"工具:",-1),O={class:"text-truncate font-weight-light"},A=(0,i._)("p",{class:"font-weight-medium text"},"经验提交人:",-1),Z={class:"text-truncate font-weight-light"},H=(0,i._)("p",{class:"font-weight-medium text"},"提交时间:",-1),j={class:"text-truncate font-weight-light"},I=(0,i._)("div",{style:{height:"38px"}},null,-1);function U(t,e,a,U,V,M){const E=(0,i.up)("AppBarPage"),Y=(0,i.up)("v-icon"),K=(0,i.up)("v-col"),X=(0,i.up)("v-btn"),G=(0,i.up)("v-row"),Q=(0,i.up)("UploaderImageComponents"),tt=(0,i.up)("v-sheet");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("span",null,[(0,i.Wm)(E),(0,i.Wm)(tt,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(G,{"no-gutters":"",class:"custem-card-title"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(Y,{icon:"mdi-bullhorn",size:"16",color:"primary"}),l])),_:1}),(0,i.Wm)(K,{cols:"6",class:"text-right"},{default:(0,i.w5)((()=>[(0,i.Wm)(X,{onClick:M.checksParePart,color:"primary mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,i.w5)((()=>[(0,i.Uk)("备件信息")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[n])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",o,(0,s.zw)(t.bufferRow.faultTypeCn),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[r])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",u,(0,s.zw)(t.bufferRow.faultStationCn),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"12"},{default:(0,i.w5)((()=>[c,(0,i._)("span",null,(0,s.zw)(t.bufferRow.problemDesc),1)])),_:1})])),_:1}),(0,i.Wm)(Q,{initPath:t.bufferRow.filePath,preview:""},null,8,["initPath"]),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[f])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",m,(0,s.zw)(M.FormatDictionary("equipment_repair_type",t.bufferRow.reportType)["lable"]),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[p])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",d,(0,s.zw)(t.bufferRow.reportBy),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[w])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",h,(0,s.zw)(t.bufferRow.reportTime),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[g])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",_,(0,s.zw)(t.bufferRow.responseBy),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[x])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",W,(0,s.zw)(t.bufferRow.responseTime),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[y])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",b,(0,s.zw)(t.bufferRow.productRepairBy),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[k])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",v,(0,s.zw)(t.bufferRow.productRepairTime),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(tt,{elevation:"2",rounded:"",class:"custem-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(G,{"no-gutters":"",class:"custem-card-title"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"6"},{default:(0,i.w5)((()=>[(0,i.Wm)(Y,{icon:"mdi-tag-text",size:"16",color:"primary"}),R])),_:1}),(0,i.Wm)(K,{cols:"6"})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[z])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",C,(0,s.zw)(t.bufferRow.rootWarin),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[F])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",S,(0,s.zw)(t.bufferRow.solvingMeasures),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[D])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",L,(0,s.zw)(t.bufferRow.suggestionsImprovement),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[P])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",T,(0,s.zw)(t.bufferRow.repairTime),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[B])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",J,(0,s.zw)(t.bufferRow.repairContent),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[N])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",$,(0,s.zw)(`${t.bufferRow.productAffectTime||"0"} 分钟`),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[q])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",O,(0,s.zw)(t.bufferRow.tool),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[A])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",Z,(0,s.zw)(t.bufferRow.tmWbTalkBy),1)])),_:1})])),_:1}),(0,i.Wm)(G,{"no-gutters":"",class:"text"},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{cols:"4"},{default:(0,i.w5)((()=>[H])),_:1}),(0,i.Wm)(K,{cols:"8"},{default:(0,i.w5)((()=>[(0,i._)("p",j,(0,s.zw)(t.bufferRow.createDate),1)])),_:1})])),_:1})])),_:1})]),I],64)}a(57658);var V=a(76496),M=a(88575),E=a(57265),Y=a(21472),K=a(20868),X={components:{AppBarPage:V.Z,UploaderImageComponents:E.Z,TableComponents:M.Z},data:()=>({bufferRow:{}}),created(){this.initFunc()},methods:{FormatDictionary(t="",e=""){const a=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),i=a[t]||[],s=i.filter((t=>e==t.value))[0]||{};return s},async initFunc(){const{ttAdRepairId:t,filePath:e=""}=this.$route.query,{data:a={}}=await(0,Y.Oh)({url_RESTful:`/${t}`});this.bufferRow=a,this.bufferRow.filePath=e},checkFile(){(0,K.XA)("正在建设中！")},backList(){this.$router.push({path:"/equipment/maintain",query:{tabs:2}})},checksParePart(){this.$router.push({path:"/outPutHistory/detail",query:{_page:"equipmentMessage",partNo:this.bufferRow.partNo}})}}},G=a(40089);const Q=(0,G.Z)(X,[["render",U]]);var tt=Q}}]);
//# sourceMappingURL=chunk.199.1689576434327.js.map