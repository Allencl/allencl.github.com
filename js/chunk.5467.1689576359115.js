"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[5467],{14614:function(t,e,n){n.d(e,{m:function(){return o}});var r=n(50124),i=n(48534),a=n(37184),o=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/equipmentRepair/proConfirmWbForApp",method:"post",payload:e.payload});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},89337:function(t,e,n){n.d(e,{$w:function(){return p},AT:function(){return u},NM:function(){return c},ew:function(){return s},jt:function(){return o},vU:function(){return l}});var r=n(50124),i=n(48534),a=n(37184),o=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var e,n=arguments;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.next=3,(0,a.i)({url:"/iiot/nodeLevel/list",method:"get",url_params:e});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/faultType/list?enabled=1",method:"get"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/fault/list?enabled=1",method:"get"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/system/dict/data/type/equipment_repair_type",method:"get"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/equipmentRepair/userList?enabled=1",method:"post"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.i)({url:"/iiot/equipmentRepair/confirmRepairWbForApp",method:"post",payload:e.payload});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},5878:function(t,e,n){n.d(e,{b:function(){return i}});var r=n(66347),i=(n(57658),function(t,e,n,i){var a,o={id:e||"id",parentId:n||"parentId",childrenList:i||"children"},u={},l={},s=[],c=(0,r.Z)(t);try{for(c.s();!(a=c.n()).done;){var p=a.value,d=p[o.parentId];null==u[d]&&(u[d]=[]),l[p[o.id]]=p,u[d].push(p)}}catch(_){c.e(_)}finally{c.f()}var f,m=(0,r.Z)(t);try{for(m.s();!(f=m.n()).done;){var h=f.value,v=h[o.parentId];null==l[v]&&s.push(h)}}catch(_){m.e(_)}finally{m.f()}for(var w=0,g=s;w<g.length;w++){var y=g[w];x(y)}function x(t){if(null!==u[t[o.id]]&&(t[o.childrenList]=u[t[o.id]]),t[o.childrenList]){var e,n=(0,r.Z)(t[o.childrenList]);try{for(n.s();!(e=n.n()).done;){var i=e.value;x(i)}}catch(_){n.e(_)}finally{n.f()}}}return s})},21655:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(73396);function i(t,e,n,i,a,o){var u=(0,r.up)("van-field"),l=(0,r.up)("van-date-picker"),s=(0,r.up)("van-picker-group"),c=(0,r.up)("van-popup");return(0,r.wg)(),(0,r.iD)("span",null,[(0,r.Wm)(u,{modelValue:t.fieldValue,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.fieldValue=e}),"is-link":"",readonly:"",required:n.required,label:n.label,placeholder:n.placeholder,autocomplete:"off",onClick:e[1]||(e[1]=function(e){return t.showPicker=!0})},null,8,["modelValue","required","label","placeholder"]),(0,r.Wm)(c,{show:t.showPicker,"onUpdate:show":e[4]||(e[4]=function(e){return t.showPicker=e}),round:"",position:"bottom"},{default:(0,r.w5)((function(){return[(0,r.Wm)(s,{title:"预约日期",tabs:["选择日期"],onConfirm:o.onConfirm,onCancel:e[3]||(e[3]=function(e){return t.showPicker=!1})},{default:(0,r.w5)((function(){return[(0,r.Wm)(l,{modelValue:t.currentDate,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.currentDate=e}),"columns-type":n.columnsType,"min-date":t.minDate,"max-date":t.maxDate},null,8,["modelValue","columns-type","min-date","max-date"])]})),_:1},8,["onConfirm"])]})),_:1},8,["show"])])}n(69600);var a={components:{},emits:["update:modelValue"],data:function(){return{fieldValue:"",showPicker:!1,currentDate:[],currentDate2:[],minDate:new Date(2018,0,1),maxDate:new Date(2028,11,1),currentTime:["12","00"]}},methods:{reset:function(){this.fieldValue="",this.$emit("update:modelValue","")},onConfirm:function(){var t=this.currentDate,e=(this.currentTime,"".concat(t.join("-")));this.showPicker=!1,this.fieldValue=e,this.$emit("update:modelValue",e)}},props:{modelValue:{type:String,default:function(){return""}},columnsType:{type:Array,default:function(){return["year","month","day"]}},label:{type:String,default:function(){return"标题"}},placeholder:{type:String,default:function(){return"请选择"}},required:{type:Boolean,default:function(){return!1}}}},o=n(40089);const u=(0,o.Z)(a,[["render",i]]);var l=u},88575:function(t,e,n){n.d(e,{Z:function(){return C}});var r=n(73396),i=n(87139),a={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},o=(0,r._)("span",null,"第",-1),u={style:{"padding-left":"1px","padding-right":"1px"}},l=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),s=(0,r._)("span",null,"共",-1),c={style:{"padding-left":"1px","padding-right":"1px"}},p=(0,r._)("span",{style:{"margin-right":"3px"}},"页",-1),d=(0,r._)("span",null,"总",-1),f={style:{"padding-left":"1px","padding-right":"1px"}},m=(0,r._)("span",null,"条",-1),h={style:{position:"relative",top:"1px","margin-left":"0px"}},v={key:2,class:"text-center",style:{"padding-top":"12px"}};function w(t,e,n,w,g,y){var x=(0,r.up)("v-icon"),_=(0,r.up)("v-btn"),k=(0,r.up)("v-card");return(0,r.wg)(),(0,r.iD)("span",null,[t.paging&&n.pagingShow?((0,r.wg)(),(0,r.j4)(k,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:y.previousHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-left")]})),_:1})]})),_:1},8,["onClick"]),(0,r.Wm)(_,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:y.nextHandle},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"28"},{default:(0,r.w5)((function(){return[(0,r.Uk)("mdi-chevron-right")]})),_:1})]})),_:1},8,["onClick"]),(0,r._)("span",a,[o,(0,r._)("span",u,(0,i.zw)(t.current),1),l,s,(0,r._)("span",c,(0,i.zw)(t.page),1),p,d,(0,r._)("span",f,(0,i.zw)(t.totalNum),1),m]),(0,r._)("span",h,[n.showSearchBtn?((0,r.wg)(),(0,r.j4)(_,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:y.searchClick,variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{size:"24",icon:"mdi-magnify"}),(0,r.Uk)(" 查询 ")]})),_:1},8,["onClick"])):(0,r.kq)("",!0),(0,r.Wm)(_,{onClick:y.refreshClick,style:(0,i.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" 刷新 ")]})),_:1},8,["onClick"])])]})),_:1})):(0,r.kq)("",!0),t.items.length?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(t.items,(function(e,n){return(0,r.WI)(t.$slots,"tableBody",{key:n,items:e,_index:n})})),128)):((0,r.wg)(),(0,r.iD)("p",v,[(0,r.Wm)(x,{icon:"mdi-emoticon-sad-outline"}),(0,r.Uk)(" 无数据！ ")]))])}var g=n(50124),y=n(95082),x=n(48534),_=(n(21249),n(37184)),k=n(20868),b={components:{},emits:["searchClick","refresh"],data:function(){return{totalNum:0,current:1,page:0,paging:!0,items:[]}},created:function(){var t=this.auto,e=this.url;t&&e&&this.initFunc()},methods:{previousHandle:function(){var t=this,e=this.current;1!=e?(this.current=e-1,this.$nextTick((function(){t.initFunc(t.current)}))):(0,k.LJ)("第一页！")},nextHandle:function(){var t=this,e=this.current,n=this.page;e>=n?(0,k.LJ)("最后一页！"):(this.current=e+1,this.$nextTick((function(){t.initFunc(t.current)})))},initFunc:function(){var t=arguments,e=this;return(0,x.Z)((0,g.Z)().mark((function n(){var r,i,a,o,u,l,s,c,p,d,f,m,h,v,w,x;return(0,g.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:1,i=t.length>1?t[1]:void 0,a=e.url,o=e.params,u=void 0===o?{}:o,l=e.children,s=e.method,c=e.formatData,!l){n.next=7;break}return e.items=l,e.paging=!1,n.abrupt("return");case 7:return p=(0,y.Z)((0,y.Z)({pageNum:r,pageSize:10},u),i),n.next=10,(0,_.i)({method:s,url:a,payload:"post"==s?p:{},url_params:"get"==s?p:{}});case 10:d=n.sent,f=d.code,m=d.total,h=void 0===m?0:m,v=d.msg,void 0===v?"":v,w=d.data,x=d.rows,200==f&&(e.totalNum=h,e.current=r,e.page=Math.ceil(h/p.pageSize),e.items=c?c(w||x||[]):w||x||[]);case 19:case"end":return n.stop()}}),n)})))()},refreshClick:function(){var t=this.refreshFunc;!t&&this.initFunc(1),this.$emit("refresh")},searchClick:function(){this.$emit("searchClick")},resultData:function(){return this.items||[]},selectAll:function(){this.items=this.items.map((function(t){return Object.assign(t,{_checked:!0})}))}},props:{method:{type:String,default:function(){return"get"}},refreshFunc:{type:Boolean,default:function(){return!1}},showSearchBtn:{type:Boolean,default:function(){return!1}},auto:{type:Boolean,default:function(){return!0}},pagingShow:{type:Boolean,default:function(){return!0}},children:{type:Array,default:function(){}},url:{type:String,default:function(){return""}},params:{type:Object,default:function(){}},formatData:{}}},S=n(40089);const W=(0,S.Z)(b,[["render",w]]);var C=W},55467:function(t,e,n){n.r(e),n.d(e,{default:function(){return X}});var r=n(95082),i=n(73396),a=n(87139),o={class:"v-window-item-table"},u=(0,i._)("p",{class:"font-weight-medium text"},"物料编码:",-1),l={class:"font-weight-light"},s=(0,i._)("p",{class:"font-weight-medium text"},"物料名称:",-1),c={class:"font-weight-light"},p=(0,i._)("p",{class:"font-weight-medium text"},"数量:",-1),d={class:"font-weight-light"},f=(0,i._)("p",{class:"font-weight-medium text"},"异常类型:",-1),m={class:"font-weight-light"},h=(0,i._)("p",{class:"font-weight-medium text"},"异常说明:",-1),v={class:"font-weight-light"},w=(0,i._)("p",{class:"font-weight-medium text"},"提报时间:",-1),g={class:"font-weight-light"},y=(0,i._)("p",{class:"font-weight-medium text"},"提报人:",-1),x={class:"font-weight-light"},_=(0,i._)("p",{class:"font-weight-medium text"},"处理类型:",-1),k={class:"font-weight-light"},b=(0,i._)("p",{class:"font-weight-medium text"},"处理说明:",-1),S={class:"font-weight-light"},W=(0,i._)("p",{class:"font-weight-medium text"},"处理人:",-1),C={class:"font-weight-light"},Z=(0,i._)("p",{class:"font-weight-medium text"},"处理时间:",-1),D={class:"font-weight-light"},N=(0,i._)("p",{class:"font-weight-medium text"},"数据状态:",-1),O={class:"font-weight-light"};function T(t,e,n,T,$,V){var q=(0,i.up)("AppBarPage"),I=(0,i.up)("v-btn"),U=(0,i.up)("v-badge"),z=(0,i.up)("v-col"),H=(0,i.up)("v-row"),F=(0,i.up)("v-card"),P=(0,i.up)("TableComponents"),B=(0,i.up)("SearchPage");return(0,i.wg)(),(0,i.iD)("span",null,[(0,i.Wm)(q),(0,i.Wm)(I,{style:{position:"fixed",top:"170px",right:"16px","z-index":"11",color:"#fff !important"},icon:"mdi-plus",color:"secondary",onClick:V.errorHandle},null,8,["onClick"]),(0,i._)("div",o,[(0,i.Wm)(P,{ref:"table1",showSearchBtn:!0,auto:!1,url:"/iiot/deliverySlipAbnormal/list",params:(0,r.Z)((0,r.Z)({},t.initParams),t.pageSearchConfig),onSearchClick:V.searchClick},{tableBody:(0,i.w5)((function(t){return[(0,i.Wm)(F,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(H,{"no-gutters":"",class:"table-title"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"1"},{default:(0,i.w5)((function(){return[(0,i.Wm)(U,{content:t._index+1,color:"primary",inline:""},null,8,["content"])]})),_:2},1024),(0,i.Wm)(z,{cols:"5"}),(0,i.Wm)(z,{cols:"1",class:"text-right"})]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[u]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",l,(0,a.zw)(t.items.partNo),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[s]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",c,(0,a.zw)(t.items.partName),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[p]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",d,(0,a.zw)(t.items.reqQty),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[f]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",m,(0,a.zw)(V.FormatDictionary("ccgl_abnormal_type",t.items.abnormalType)["lable"]),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[h]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",v,(0,a.zw)(t.items.abnormalExplain),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[w]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",g,(0,a.zw)(t.items.submitDatetime),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[y]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",x,(0,a.zw)(t.items.submitUser),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[_]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",k,(0,a.zw)(t.items.disposeType),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[b]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",S,(0,a.zw)(t.items.disposeExplain),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[W]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",C,(0,a.zw)(t.items.disposeUser),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[Z]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",D,(0,a.zw)(t.items.disposeDatetime),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"4"},{default:(0,i.w5)((function(){return[N]})),_:1}),(0,i.Wm)(z,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",O,(0,a.zw)(V.FormatDictionary("ccgl_abnomal_state",t.items.dataState)["lable"]),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(H,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(z,{cols:"3",class:"text-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(I,{onClick:function(e){return V.editClick(t)},style:{"font-size":"18px"},color:"primary mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,i.w5)((function(){return[(0,i.Uk)("修改")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,i.Wm)(z,{cols:"3",class:"text-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(I,{onClick:function(e){return V.disposeClick(t)},style:{"font-size":"18px"},color:"warning mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,i.w5)((function(){return[(0,i.Uk)("处理")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,i.Wm)(z,{cols:"3",class:"text-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(I,{onClick:function(e){return V.deleteClick(t)},style:{"font-size":"18px"},color:"error mt-1",density:"compact",rounded:0,variant:"plain"},{default:(0,i.w5)((function(){return[(0,i.Uk)("删除")]})),_:2},1032,["onClick"])]})),_:2},1024),(0,i.Wm)(z,{cols:"3",class:"text-center"})]})),_:2},1024)]})),_:2},1024)]})),_:1},8,["params","onSearchClick"])]),(0,i.Wm)(B,{ref:"searchPage",onResetHandle:V.resetHandle,onSearchHandle:V.searchHandle},null,8,["onResetHandle","onSearchHandle"])])}var $=n(50124),V=n(48534),q=(n(57327),n(41539),n(57658),n(76496)),I=n(88575),U=n(37184),z=(0,i._)("div",{style:{height:"52px"}},null,-1),H={style:{"margin-top":"32px"}};function F(t,e,n,r,a,o){var u=(0,i.up)("SelectComponents"),l=(0,i.up)("van-field"),s=(0,i.up)("v-btn"),c=(0,i.up)("v-col"),p=(0,i.up)("v-row"),d=(0,i.up)("van-popup");return(0,i.wg)(),(0,i.iD)("span",null,[(0,i.Wm)(d,{show:t.drawer,"onUpdate:show":e[7]||(e[7]=function(e){return t.drawer=e}),closeable:"",position:"right",style:{padding:"12px",width:"90%",height:"100%"}},{default:(0,i.w5)((function(){return[z,(0,i.Wm)(u,{modelValue:t.property,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.property=e}),ref:"select22",label:"异常类型",option:t.propertySelectOption},null,8,["modelValue","option"]),(0,i.Wm)(u,{modelValue:t.status,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.status=e}),ref:"select33",label:"处理类型",option:t.statusSelectOption},null,8,["modelValue","option"]),(0,i.Wm)(u,{modelValue:t.user,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.user=e}),ref:"select66",label:"物料编码",option:t.repairmanSelectOption},null,8,["modelValue","option"]),(0,i.Wm)(u,{modelValue:t.dataStatus,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.dataStatus=e}),ref:"select55",label:"数据状态",option:t.dataStatusSelectOption},null,8,["modelValue","option"]),(0,i.Wm)(l,{modelValue:t.value11,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.value11=e}),placeholder:"请输入",autocomplete:"off",label:"提报人"},null,8,["modelValue"]),(0,i.Wm)(l,{modelValue:t.value22,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.value22=e}),placeholder:"请输入",autocomplete:"off",label:"处理人"},null,8,["modelValue"]),(0,i._)("div",H,[(0,i.Wm)(p,{"no-gutters":""},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{cols:"4",class:"text-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(s,{onClick:e[6]||(e[6]=function(){return t.drawer=!1}),density:"compact",variant:"plain"},{default:(0,i.w5)((function(){return[(0,i.Uk)("关闭")]})),_:1})]})),_:1}),(0,i.Wm)(c,{cols:"4",class:"text-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(s,{onClick:o.resetClick,density:"compact",color:"warning",variant:"plain"},{default:(0,i.w5)((function(){return[(0,i.Uk)("重置")]})),_:1},8,["onClick"])]})),_:1}),(0,i.Wm)(c,{cols:"4",class:"text-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(s,{onClick:o.searchClick,density:"compact",color:"primary",variant:"plain"},{default:(0,i.w5)((function(){return[(0,i.Uk)("查询")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})])]})),_:1},8,["show"])])}var P=n(82482),B=(n(21249),n(40561),n(92222),n(69600),n(2243)),A=n(21655),j=n(89337),L=(n(5878),{components:{SelectComponents:B.Z,DatePickerComponents:A.Z},emits:["searchHandle","resetHandle"],data:function(){var t;return t={showFactory:!0,drawer:!1,dateStart:"",dateOver:"",show:!1,fieldValue:"",options:[],factoryID:"",equipment:"",equipmentSelectOption:[],user:"",userSelectOption:[],userAffirm:"",userAffirmSelectOption:[],property:"",propertySelectOption:[],status:"",statusSelectOption:[],dataStatus:"",dataStatusSelectOption:[]},(0,P.Z)(t,"user",""),(0,P.Z)(t,"repairmanSelectOption",[]),(0,P.Z)(t,"value11",""),(0,P.Z)(t,"value22",""),t},created:function(){this.initFunc(),this.initRepairman()},methods:{FormatDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),r=n[t]||[],i=r.filter((function(t){return e==t.value}))[0]||{};return i},resetClick:function(){var t=this;this.factoryID="",this.equipment="",this.dateStart="",this.dateOver="",this.user="",this.userAffirm="",this.fieldValue="",this.property="",this.dataStatus="",this.user="",this.value11="",this.value22="",this.status="",this.$refs.select22&&this.$refs.select22.reset(),this.$refs.select33&&this.$refs.select33.reset(),this.$refs.select55&&this.$refs.select55.reset(),this.$refs.select66&&this.$refs.select66.reset(),this.showFactory=!1,this.$nextTick((function(){t.showFactory=!0})),this.$emit("resetHandle",{})},initRepairman:function(){var t=this;return(0,V.Z)((0,$.Z)().mark((function e(){var n,r;return(0,$.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.query.deliverySlipId,e.next=3,(0,U.i)({url:"/iiot/deliverySlipPart/dict/".concat(n),method:"get"});case 3:r=e.sent,t.repairmanSelectOption=(r||[]).map((function(t){return Object.assign({text:"".concat(t.dictLabel||""),value:t.dictValue})}));case 5:case"end":return e.stop()}}),e)})))()},initFunc:function(){var t=this;return(0,V.Z)((0,$.Z)().mark((function e(){var n,r,i,a;return(0,$.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),r=n["ccgl_abnomal_dispose"]||[],t.propertySelectOption=r.map((function(t){return Object.assign({text:t.lable,value:t.value})})),i=n["ccgl_delivery_slip_state"]||[],t.statusSelectOption=i.map((function(t){return Object.assign({text:t.lable,value:t.value})})),a=n["ccgl_abnomal_state"]||[],t.dataStatusSelectOption=a.map((function(t){return Object.assign({text:t.lable,value:t.value})}));case 7:case"end":return e.stop()}}),e)})))()},equipmentHTTP:function(){var t=arguments,e=this;return(0,V.Z)((0,$.Z)().mark((function n(){var r,i,a,o,u,l,s;return(0,$.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:"",i=e,a=e.fieldSelectValue,void 0===a?{}:a,n.next=5,(0,U.i)({url:"/iiot/equipment/list",method:"get",url_params:{tmBasNodeLevelId:i.factoryID||"",equipmentNo:r}});case 5:o=n.sent,u=o.code,l=o.data,s=void 0===l?[]:l,200==u&&(e.equipmentSelectOptionData=s,e.equipmentSelectOption=s.map((function(t){return Object.assign({text:"".concat(t.equipmentNo,"-").concat(t.equipmentName),value:t.tmBasEquipmentId})})).splice(0,100));case 10:case"end":return n.stop()}}),n)})))()},initUserHTTP:function(){var t=this;return(0,V.Z)((0,$.Z)().mark((function e(){var n,r,i;return(0,$.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,j.NM)();case 2:n=e.sent,r=n.data,i=void 0===r?[]:r,t.userSelectOption=i.map((function(t){return Object.assign({text:"".concat(t.userName,"-").concat(t.nickName),value:t.userName})})),t.userAffirmSelectOption=i.map((function(t){return Object.assign({text:"".concat(t.userName,"-").concat(t.nickName),value:t.userName})}));case 7:case"end":return e.stop()}}),e)})))()},onFinish:function(t){var e=t.selectedOptions;if(e.length){var n=(e[e.length-1]||{})["tmBasNodeLevelId"];this.factoryID=n,this.fieldValue=e.map((function(t){return t.nodeLevelName})).join("/")}},confirmFactory:function(){var t=this;this.show=!1,this.equipment="",this.$refs.selectContent&&this.$refs.selectContent.reset(),this.$nextTick((function(){t.equipmentHTTP()}))},searchClick:function(){var t={abnormalType:this.property,partNo:this.user,submitUser:this.value11,disposeType:this.status,disposeUser:this.value22,dataState:this.dataStatus};this.$emit("searchHandle",t),this.drawer=!1},showDrawer:function(){this.drawer=!0},equipmentSearchChange:function(){var t=arguments,e=this;return(0,V.Z)((0,$.Z)().mark((function n(){var r;return(0,$.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.length>0&&void 0!==t[0]?t[0]:"",e.equipmentHTTP(r);case 2:case"end":return n.stop()}}),n)})))()}}}),R=n(40089);const E=(0,R.Z)(L,[["render",F]]);var M=E,J=(n(14614),n(69650)),G=n(20868),K={components:{AppBarPage:q.Z,TableComponents:I.Z,SearchPage:M},data:function(){return{pageSearchConfig:{},initParams:{}}},created:function(){this.initHandle()},methods:{FormatDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),r=n[t]||[],i=r.filter((function(t){return e==t.value}))[0]||{};return i},initHandle:function(){var t=this,e=this.$route.query,n=e.deliverySlipId,r=void 0===n?"":n,i=e.deliverySlipType,a=void 0===i?"":i,o=e.poNo,u=void 0===o?"":o,l=e.srmNo,s=void 0===l?"":l;this.initParams={deliverySlipId:r,deliverySlipType:a,poNo:u,srmNo:s},this.$nextTick((function(){t.$refs.table1.initFunc(1)}))},searchClick:function(){this.$refs.searchPage.showDrawer()},searchHandle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pageSearchConfig=e,this.$nextTick((function(){t.$refs.table1.initFunc(1)}))},resetHandle:function(t){var e=this;this.pageSearchConfig={},this.$nextTick((function(){e.$refs.table1.initFunc(1)}))},errorHandle:function(){var t=this.$route.query,e=t.deliverySlipId,n=void 0===e?"":e,r=t.deliverySlipType,i=void 0===r?"":r,a=t.poNo,o=void 0===a?"":a,u=t.srmNo,l=void 0===u?"":u;this.$router.push({path:"/storageManagement/errorAdd",query:{deliverySlipId:n,deliverySlipType:i,poNo:o,srmNo:l}})},editClick:function(t){var e=t.items.abnormalId,n=this.$route.query,r=n.deliverySlipId,i=void 0===r?"":r,a=n.deliverySlipType,o=void 0===a?"":a,u=n.poNo,l=void 0===u?"":u,s=n.srmNo,c=void 0===s?"":s;this.$router.push({path:"/storageManagement/errorAdd",query:{deliverySlipId:i,deliverySlipType:o,poNo:l,srmNo:c,abnormalId:e}})},disposeClick:function(t){var e=t.items.abnormalId,n=this.$route.query,r=n.deliverySlipId,i=void 0===r?"":r,a=n.deliverySlipType,o=void 0===a?"":a,u=n.poNo,l=void 0===u?"":u,s=n.srmNo,c=void 0===s?"":s;this.$router.push({path:"/storageManagement/errorAdd",query:{deliverySlipId:i,deliverySlipType:o,poNo:l,srmNo:c,abnormalId:e,isDispose:!0}})},deleteClick:function(t){var e=this,n=t.items.abnormalId;(0,J.vC)({title:"删除",message:"删除后数据不可恢复，确认删除！",theme:"round-button",closeOnClickOverlay:!0}).then((0,V.Z)((0,$.Z)().mark((function t(){var r,i,a;return(0,$.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,U.i)({url:"/iiot/deliverySlipAbnormal/"+n,method:"DELETE"});case 2:r=t.sent,i=r.code,a=r.data,void 0===a?{}:a,200==i&&((0,G.XA)("删除成功！"),e.$nextTick((function(){e.$refs.table1.initFunc(1)})));case 7:case"end":return t.stop()}}),t)}))))}}};const Q=(0,R.Z)(K,[["render",T]]);var X=Q},69650:function(t,e,n){n.d(e,{vC:function(){return p}});n(41539);var r,i=n(73396),a=n(12220),o=n(57548),u=n(21178),l={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},s=(0,a.l7)({},l);function c(){var t={setup:function(){var t=(0,o.o)(),e=t.state,n=t.toggle;return function(){return(0,i.Wm)(u.Z,(0,i.dG)(e,{"onUpdate:show":n}),null)}}},e=(0,o.H)(t);r=e.instance}function p(t){return a._f?new Promise((function(e,n){r||c(),r.open((0,a.l7)({},s,t,{callback:function(t){("confirm"===t?e:n)(t)}}))})):Promise.resolve()}}}]);
//# sourceMappingURL=chunk.5467.1689576359115.js.map