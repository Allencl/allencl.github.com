"use strict";(self["webpackChunksinoboom_mom"]=self["webpackChunksinoboom_mom"]||[]).push([[1031],{14614:function(t,e,n){n.d(e,{m:function(){return a}});var i=n(50124),r=n(48534),u=n(37184),a=function(){var t=(0,r.Z)((0,i.Z)().mark((function t(e){return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.i)({url:"/iiot/equipmentRepair/proConfirmWbForApp",method:"post",payload:e.payload});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},88575:function(t,e,n){n.d(e,{Z:function(){return R}});var i=n(73396),r=n(87139),u={style:{position:"relative",top:"3px","margin-left":"6px","font-size":"14px"}},a=(0,i._)("span",null,"第",-1),o={style:{"padding-left":"1px","padding-right":"1px"}},c=(0,i._)("span",{style:{"margin-right":"3px"}},"页",-1),l=(0,i._)("span",null,"共",-1),s={style:{"padding-left":"1px","padding-right":"1px"}},p=(0,i._)("span",{style:{"margin-right":"3px"}},"页",-1),f=(0,i._)("span",null,"总",-1),d={style:{"padding-left":"1px","padding-right":"1px"}},m=(0,i._)("span",null,"条",-1),h={style:{position:"relative",top:"1px","margin-left":"0px"}},g={key:2,class:"text-center",style:{"padding-top":"12px"}};function w(t,e,n,w,k,x){var _=(0,i.up)("v-icon"),v=(0,i.up)("v-btn"),y=(0,i.up)("v-card");return(0,i.wg)(),(0,i.iD)("span",null,[t.paging&&n.pagingShow?((0,i.wg)(),(0,i.j4)(y,{key:0,elevation:"0",style:{"margin-bottom":"0px"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(v,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{"margin-right":"6px",width:"28px",height:"28px"},onClick:x.previousHandle},{default:(0,i.w5)((function(){return[(0,i.Wm)(_,{size:"28"},{default:(0,i.w5)((function(){return[(0,i.Uk)("mdi-chevron-left")]})),_:1})]})),_:1},8,["onClick"]),(0,i.Wm)(v,{variant:"outlined",size:"x-small",icon:"",color:"primary",style:{width:"28px",height:"28px"},onClick:x.nextHandle},{default:(0,i.w5)((function(){return[(0,i.Wm)(_,{size:"28"},{default:(0,i.w5)((function(){return[(0,i.Uk)("mdi-chevron-right")]})),_:1})]})),_:1},8,["onClick"]),(0,i._)("span",u,[a,(0,i._)("span",o,(0,r.zw)(t.current),1),c,l,(0,i._)("span",s,(0,r.zw)(t.page),1),p,f,(0,i._)("span",d,(0,r.zw)(t.totalNum),1),m]),(0,i._)("span",h,[n.showSearchBtn?((0,i.wg)(),(0,i.j4)(v,{key:0,style:{"padding-left":"8px","padding-right":"4px"},onClick:x.searchClick,variant:"plain",color:"primary"},{default:(0,i.w5)((function(){return[(0,i.Wm)(_,{size:"24",icon:"mdi-magnify"}),(0,i.Uk)(" 查询 ")]})),_:1},8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(v,{onClick:x.refreshClick,style:(0,r.j5)(["min-width: 42px;width: 42px",{padding:"0"}]),variant:"plain",color:"primary"},{default:(0,i.w5)((function(){return[(0,i.Uk)(" 刷新 ")]})),_:1},8,["onClick"])])]})),_:1})):(0,i.kq)("",!0),t.items.length?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)(t.items,(function(e,n){return(0,i.WI)(t.$slots,"tableBody",{key:n,items:e,_index:n})})),128)):((0,i.wg)(),(0,i.iD)("p",g,[(0,i.Wm)(_,{icon:"mdi-emoticon-sad-outline"}),(0,i.Uk)(" 无数据！ ")]))])}var k=n(50124),x=n(95082),_=n(48534),v=(n(21249),n(37184)),y=n(20868),b={components:{},emits:["searchClick","refresh"],data:function(){return{totalNum:0,current:1,page:0,paging:!0,items:[]}},created:function(){var t=this.auto,e=this.url;t&&e&&this.initFunc()},methods:{previousHandle:function(){var t=this,e=this.current;1!=e?(this.current=e-1,this.$nextTick((function(){t.initFunc(t.current)}))):(0,y.LJ)("第一页！")},nextHandle:function(){var t=this,e=this.current,n=this.page;e>=n?(0,y.LJ)("最后一页！"):(this.current=e+1,this.$nextTick((function(){t.initFunc(t.current)})))},initFunc:function(){var t=arguments,e=this;return(0,_.Z)((0,k.Z)().mark((function n(){var i,r,u,a,o,c,l,s,p,f,d,m,h,g,w,_;return(0,k.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.length>0&&void 0!==t[0]?t[0]:1,r=t.length>1?t[1]:void 0,u=e.url,a=e.params,o=void 0===a?{}:a,c=e.children,l=e.method,s=e.formatData,!c){n.next=7;break}return e.items=c,e.paging=!1,n.abrupt("return");case 7:return p=(0,x.Z)((0,x.Z)({pageNum:i,pageSize:10},o),r),n.next=10,(0,v.i)({method:l,url:u,payload:"post"==l?p:{},url_params:"get"==l?p:{}});case 10:f=n.sent,d=f.code,m=f.total,h=void 0===m?0:m,g=f.msg,void 0===g?"":g,w=f.data,_=f.rows,200==d&&(e.totalNum=h,e.current=i,e.page=Math.ceil(h/p.pageSize),e.items=s?s(w||_||[]):w||_||[]);case 19:case"end":return n.stop()}}),n)})))()},refreshClick:function(){var t=this.refreshFunc;!t&&this.initFunc(1),this.$emit("refresh")},searchClick:function(){this.$emit("searchClick")},resultData:function(){return this.items||[]},selectAll:function(){this.items=this.items.map((function(t){return Object.assign(t,{_checked:!0})}))}},props:{method:{type:String,default:function(){return"get"}},refreshFunc:{type:Boolean,default:function(){return!1}},showSearchBtn:{type:Boolean,default:function(){return!1}},auto:{type:Boolean,default:function(){return!0}},pagingShow:{type:Boolean,default:function(){return!0}},children:{type:Array,default:function(){}},url:{type:String,default:function(){return""}},params:{type:Object,default:function(){}},formatData:{}}},W=n(40089);const C=(0,W.Z)(b,[["render",w]]);var R=C},91031:function(t,e,n){n.r(e),n.d(e,{default:function(){return z}});var i=n(73396),r=n(87139),u={class:"font-weight-medium text"},a={class:"font-weight-medium font-weight-light",style:{color:"#00E5FF"}},o={class:"v-window-item-table"},c=(0,i._)("p",{class:"text-truncate font-weight-light"},"点检项目",-1),l={class:"font-weight-medium text-left text-teal-lighten-1",color:"primary"},s=(0,i._)("p",{class:"font-weight-medium text"},"判断方法:",-1),p={class:"text-truncate font-weight-light"},f=(0,i._)("p",{class:"font-weight-medium text"},"处理方式:",-1),d={class:"text-truncate font-weight-light"},m=(0,i._)("p",{class:"font-weight-medium text"},"判断标准:",-1),h=["onClick"],g=(0,i._)("p",{class:"font-weight-medium text"},"目的:",-1),w={class:"text-truncate font-weight-light"},k=(0,i._)("p",{class:"font-weight-medium text",style:{position:"relative",top:"7px"}},"结果:",-1),x=(0,i._)("div",{style:{height:"52px"}},null,-1);function _(t,e,n,_,v,y){var b=(0,i.up)("AppBarPage"),W=(0,i.up)("v-icon"),C=(0,i.up)("v-col"),R=(0,i.up)("v-row"),F=(0,i.up)("v-badge"),T=(0,i.up)("v-switch"),Z=(0,i.up)("van-field"),z=(0,i.up)("v-card"),q=(0,i.up)("TableComponents"),$=(0,i.up)("v-btn");return(0,i.wg)(),(0,i.iD)("span",null,[(0,i.Wm)(b),(0,i.Wm)(R,{"no-gutters":"",class:"text",style:{margin:"8px 4px"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"12"},{default:(0,i.w5)((function(){return[(0,i._)("p",u,[(0,i.Wm)(W,{icon:"mdi-message-text",size:"16",color:"primary"}),(0,i.Uk)(" 点检设备信息:")])]})),_:1}),(0,i.Wm)(C,{cols:"12",class:"text-left"},{default:(0,i.w5)((function(){return[(0,i._)("p",a,(0,r.zw)(t.bufferRow.equipmentName),1)]})),_:1})]})),_:1}),(0,i._)("div",o,[(0,i.Wm)(q,{ref:"table1",children:t.tableData,pagingShow:!1},{tableBody:(0,i.w5)((function(t){return[(0,i.Wm)(z,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(R,{"no-gutters":"",class:"table-title"},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"1"},{default:(0,i.w5)((function(){return[(0,i.Wm)(F,{content:t._index+1,color:"primary",inline:""},null,8,["content"])]})),_:2},1024),(0,i.Wm)(C,{cols:"8"},{default:(0,i.w5)((function(){return[c]})),_:1})]})),_:2},1024),(0,i.Wm)(R,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"12"},{default:(0,i.w5)((function(){return[(0,i._)("p",l,(0,r.zw)(t.items.checkName),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(R,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"4"},{default:(0,i.w5)((function(){return[s]})),_:1}),(0,i.Wm)(C,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",p,(0,r.zw)(t.items.judgmentMethod),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(R,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"4"},{default:(0,i.w5)((function(){return[f]})),_:1}),(0,i.Wm)(C,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",d,(0,r.zw)(t.items.processingMethod),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(R,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"4"},{default:(0,i.w5)((function(){return[m]})),_:1}),(0,i.Wm)(C,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",{class:"text-truncate font-weight-light",onClick:function(e){return y.GlobalTooltipFunc(t.items.standardJudgment)}},(0,r.zw)(t.items.standardJudgment),9,h)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(R,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"4"},{default:(0,i.w5)((function(){return[g]})),_:1}),(0,i.Wm)(C,{cols:"8"},{default:(0,i.w5)((function(){return[(0,i._)("p",w,(0,r.zw)(t.items.objective),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)(R,{"no-gutters":"",class:"text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"3"},{default:(0,i.w5)((function(){return[k]})),_:1}),(0,i.Wm)(C,{cols:"9",style:{"text-align":"right"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(T,{modelValue:t.items._switch,"onUpdate:modelValue":function(e){return t.items._switch=e},label:t.items._switch?"合格":"不合格",color:"primary",density:"comfortable",style:{top:"-8px",left:"18px",position:"relative",height:"48px",display:"block",width:"104px"}},null,8,["modelValue","onUpdate:modelValue","label"])]})),_:2},1024)]})),_:2},1024),t.items._switch?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(Z,{key:0,modelValue:t.items.checkResultContent,"onUpdate:modelValue":function(e){return t.items.checkResultContent=e},placeholder:"请输入",autocomplete:"off",label:"不合格描述"},null,8,["modelValue","onUpdate:modelValue"]))]})),_:2},1024)]})),_:1},8,["children"])]),(0,i.Wm)(R,{"no-gutters":"",class:"text",style:{padding:"0px 4px"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{cols:"4"},{default:(0,i.w5)((function(){return[(0,i.Wm)($,{color:"#00E5FF",onClick:y.onReceiveFunc},{default:(0,i.w5)((function(){return[(0,i.Uk)(" 备件领用 ")]})),_:1},8,["onClick"])]})),_:1}),(0,i.Wm)(C,{cols:"4"},{default:(0,i.w5)((function(){return[(0,i.Wm)($,{color:"warning",onClick:y.onRepairs},{default:(0,i.w5)((function(){return[(0,i.Uk)(" 设备报修 ")]})),_:1},8,["onClick"])]})),_:1}),(0,i.Wm)(C,{cols:"4"},{default:(0,i.w5)((function(){return[(0,i.Wm)($,{onClick:y.submitClick,color:"primary"},{default:(0,i.w5)((function(){return[(0,i.Uk)("提交")]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),x])}var v=n(50124),y=n(48534),b=(n(57327),n(41539),n(21249),n(57658),n(38862),n(76496)),W=n(88575),C=n(37184),R=(n(14614),n(20868)),F={components:{AppBarPage:b.Z,TableComponents:W.Z},data:function(){return{bufferRow:{},tableData:[]}},created:function(){var t=this;this.$root.$emitter.on("update_examineHistory_page_index",(function(){t.initFunc()}))},methods:{GlobalTooltipFunc:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,R.CF)({message:t,overlay:!0,closeOnClickOverlay:!0,duration:0})},FormatDictionary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=JSON.parse(localStorage.getItem("bufferDictionaries")||"{}"),i=n[t]||[],r=i.filter((function(t){return e==t.value}))[0]||{};return r},initFunc:function(){var t=this;return(0,y.Z)((0,v.Z)().mark((function e(){var n,i,r,u,a,o,c,l;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.query,i=n.ttCheckTaskId,r=n.row,u=void 0===r?"{}":r,t.bufferRow=JSON.parse(u),e.next=4,(0,C.i)({url:"/iiot/checkTask/checkTask",method:"post",payload:{ttCheckTaskId:i}});case 4:a=e.sent,o=a.code,c=a.data,l=void 0===c?[]:c,200==o&&(t.tableData=l.map((function(t){return Object.assign(t,{_switch:"O"==t.checkResult})})),t.$nextTick((function(){t.$refs.table1.initFunc()})));case 9:case"end":return e.stop()}}),e)})))()},submitClick:function(t){var e=this;return(0,y.Z)((0,v.Z)().mark((function t(){var n,i,r,u;return(0,v.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.tableData.map((function(t){return Object.assign(t,{checkResult:t._switch?"O":"N"})})),t.next=3,(0,C.i)({url:"/iiot/checkTaskRecord/submitCheckTaskRecord",method:"post",payload:{checkTaskRecords:n.map((function(t){return Object.assign({checkResult:t.checkResult,inspectValue:t.inspectValue,judgmentResult:t.judgmentResult,ttCheckTaskId:t.ttCheckTaskId,ttCheckTaskRecordId:t.ttCheckTaskRecordId,checkResultContent:t.checkResultContent})}))}});case 3:i=t.sent,r=i.code,u=i.data,void 0===u?{}:u,200==r&&((0,R.XA)("提交成功！"),e.$router.push({path:"/examineHistory/index",query:{}}),setTimeout((function(){e.$root.$emitter.emit("update_examineHistory_page")}),1500));case 8:case"end":return t.stop()}}),t)})))()},onReceiveFunc:function(){var t=this.bufferRow;this.$router.push({path:"/replacement/index",query:{activeType:"check",row:JSON.stringify(t)}})},onRepairs:function(){var t=this.bufferRow;this.$router.push({path:"/equipment/repairs",query:{tmBasEquipmentId:t.tmBasEquipmentId,equipmentNo:t.equipmentNo,equipmentName:t.equipmentName}})}}},T=n(40089);const Z=(0,T.Z)(F,[["render",_]]);var z=Z}}]);
//# sourceMappingURL=chunk.1031.1689576086920.js.map